
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Week 4 - NumPy and matplotlib &#8212; CLLPython 0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Week 5 - pandas" href="05_pandas.html" />
    <link rel="prev" title="Week 3 - Imports, the standard library, and third-party libraries" href="03_imports_standard_library_PyPI.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars and line breaks on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
    white-space: pre;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<section id="Week-4---NumPy-and-matplotlib">
<h1>Week 4 - NumPy and matplotlib<a class="headerlink" href="#Week-4---NumPy-and-matplotlib" title="Permalink to this heading">¶</a></h1>
<p>These libraries are fundamental to the scientific Python ecosystem. Let’s look at each of them in detail.</p>
<section id="NumPy">
<h2>NumPy<a class="headerlink" href="#NumPy" title="Permalink to this heading">¶</a></h2>
<p>There is no substitute for the <a class="reference external" href="https://numpy.org/doc/stable/user/absolute_beginners.html">absolute basics guide to NumPy</a>, but here’s an introduction with some of my own perspectives.</p>
<p>NumPy is the fundamental package for numerical computation in Python. It’s core feature is a multidimensional, or <em>N</em>-dimensional, array object with fast and efficient methods for performing all manner of operations. Arrays commonly have one or two dimensions, in which case they may be called <a class="reference external" href="https://en.wikipedia.org/wiki/Vector_space">vectors</a> or <a class="reference external" href="https://en.wikipedia.org/wiki/Matrix_(mathematics)">matrices</a>, but they can also have upwards of three dimensions, in which case they may be
referred to as <a class="reference external" href="https://en.wikipedia.org/wiki/Tensor">tensors</a>. We will deal primarily with vectors, and perhaps the occasional matrix.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>  <span class="c1"># Widely adopted convention for importing numpy</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A 1-dimensional array, also known as a vector.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A 2-dimensional array, also known as a matrix.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A 3-dimensional array, also known as a tensor.&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">]],[[</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">],[</span><span class="mi">13</span><span class="p">,</span><span class="mi">14</span><span class="p">,</span><span class="mi">15</span><span class="p">],[</span><span class="mi">16</span><span class="p">,</span><span class="mi">17</span><span class="p">,</span><span class="mi">18</span><span class="p">]]]))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
A 1-dimensional array, also known as a vector.
[1 2 3 4 5 6 7 8 9]
A 2-dimensional array, also known as a matrix.
[[1 2 3]
 [4 5 6]
 [7 8 9]]
A 3-dimensional array, also known as a tensor.
[[[ 1  2  3]
  [ 4  5  6]
  [ 7  8  9]]

 [[10 11 12]
  [13 14 15]
  [16 17 18]]]
</pre></div></div>
</div>
<section id="Python-lists-vs. NumPy-arrays">
<h3>Python lists vs. NumPy arrays<a class="headerlink" href="#Python-lists-vs. NumPy-arrays" title="Permalink to this heading">¶</a></h3>
<p>We know about Python lists. They are dynamic containers for grouping together other objects, possibly of different types. A NumPy array is different in that its size gets fixed at the time of creation and its data are homogeneously typed. Why do we need NumPy arrays when we can make a list of numbers and use the built-in <code class="docutils literal notranslate"><span class="pre">math</span></code> and <code class="docutils literal notranslate"><span class="pre">statistics</span></code> libraries for our numerical computations? The answer is <strong>efficiency and convenience.</strong></p>
<p>Allow me to demonstrate. The cell below compares Python lists to NumPy arrays on the following measurements:</p>
<ol class="arabic simple">
<li><p>Time taken to create a sequence of 10000 random floating point numbers between 0-1</p></li>
<li><p>Time taken to compute the mean of all values in the sequence</p></li>
<li><p>Size of the resulting object in bytes</p></li>
</ol>
<hr class="docutils" />
<blockquote>
<div><p><strong>NOTE:</strong> Jupyter notebooks have some built-in ‘magic’ functions, one of which is called <code class="docutils literal notranslate"><span class="pre">%timeit</span></code>. This function repeats a bit of code a specified number of times and reports how long it took to execute, on average. Below, we conduct 7 runs of 10000 loops, and the reported time is the average execution time for a single loop of code. You can <a class="reference external" href="https://ipython.org/ipython-doc/dev/interactive/magics.html#magic-timeit">follow this link</a> to read more about <code class="docutils literal notranslate"><span class="pre">%timeit</span></code> and other so-called
magic functions in Jupyter.</p>
</div></blockquote>
<hr class="docutils" />
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="kn">import</span> <span class="nn">statistics</span>


<span class="c1"># Number of elements in the array / list</span>
<span class="n">TEST_SIZE</span> <span class="o">=</span> <span class="mi">10000</span>


<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;~~~ Python list ~~~&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creation time for Python list:&quot;</span><span class="p">)</span>
<span class="o">%</span><span class="k">timeit</span> -r 7 -n 10000 python_list = [random.random() for i in range(TEST_SIZE)]
<span class="n">python_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">TEST_SIZE</span><span class="p">)]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Time to compute mean of Python list:&quot;</span><span class="p">)</span>
<span class="o">%</span><span class="k">timeit</span> -r 7 -n 10000 statistics.mean(python_list)
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Size of Python list in bytes:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">getsizeof</span><span class="p">(</span><span class="n">python_list</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;~~~ numpy array ~~~&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Creation time for numpy array:&quot;</span><span class="p">)</span>
<span class="o">%</span><span class="k">timeit</span> -r 7 -n 10000 numpy_array = np.random.rand(TEST_SIZE)
<span class="n">numpy_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">TEST_SIZE</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Time to compute mean of numpy array:&quot;</span><span class="p">)</span>
<span class="o">%</span><span class="k">timeit</span> -r 7 -n 10000 numpy_array.mean()
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Size of numpy array in bytes:&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">getsizeof</span><span class="p">(</span><span class="n">numpy_array</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
~~~ Python list ~~~


Creation time for Python list:
775 µs ± 1.46 µs per loop (mean ± std. dev. of 7 runs, 10000 loops each)


Time to compute mean of Python list:
5.69 ms ± 103 µs per loop (mean ± std. dev. of 7 runs, 10000 loops each)


Size of Python list in bytes:
85176


~~~ numpy array ~~~


Creation time for numpy array:
71.6 µs ± 365 ns per loop (mean ± std. dev. of 7 runs, 10000 loops each)


Time to compute mean of numpy array:
5.74 µs ± 206 ns per loop (mean ± std. dev. of 7 runs, 10000 loops each)


Size of numpy array in bytes:
80104
</pre></div></div>
</div>
<p>These results are striking. It takes more than 10 times as long to create the same data in a list compared to a NumPy array, and it takes nearly <strong>1000 times longer to calculate the mean</strong> (noting the difference between milliseconds [<span class="math notranslate nohighlight">\(ms\)</span>] and microseconds [<span class="math notranslate nohighlight">\(\mu s\)</span>]). On top of that, the NumPy array uses ~6% less computer memory than the Python list.</p>
<p>Hopefully you are convinced—NumPy arrays are faster and more efficient. Don’t confuse the two, and always prefer arrays for numerical computing.</p>
</section>
<section id="Making-arrays">
<h3>Making arrays<a class="headerlink" href="#Making-arrays" title="Permalink to this heading">¶</a></h3>
<p>As shown above, arrays can be created from a Python sequence using <code class="docutils literal notranslate"><span class="pre">np.array</span></code>, but this is not very efficient as it comes with the additional overhead of Python object creation.</p>
<p>A better approach is to use NumPy’s dedicated functions for array creation, such as <code class="docutils literal notranslate"><span class="pre">np.zeros</span></code>, <code class="docutils literal notranslate"><span class="pre">np.ones</span></code>, <code class="docutils literal notranslate"><span class="pre">np.arange</span></code>, <code class="docutils literal notranslate"><span class="pre">np.linspace</span></code>, <code class="docutils literal notranslate"><span class="pre">np.random.random</span></code>, <code class="docutils literal notranslate"><span class="pre">np.random.randint</span></code>, <code class="docutils literal notranslate"><span class="pre">np.eye</span></code>, and <code class="docutils literal notranslate"><span class="pre">np.diag</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;np.zeros:         &#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;np.ones:          &#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;np.arange:        &#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;np.linspace:      &#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;np.random.random: &#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;np.random.randint:&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;np.eye (identity matrix):&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;np.diag (diagonal matrix):&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">diag</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
np.zeros:          [0. 0. 0. 0. 0.]
np.ones:           [1. 1. 1. 1. 1.]
np.arange:         [0 1 2 3 4]
np.linspace:       [0. 1. 2. 3. 4.]
np.random.random:  [0.58582264 0.15637124 0.08950865 0.42260642 0.92534194]
np.random.randint: [9 3 2 8 5]
np.eye (identity matrix):
[[1. 0. 0. 0.]
 [0. 1. 0. 0.]
 [0. 0. 1. 0.]
 [0. 0. 0. 1.]]
np.diag (diagonal matrix):
[[1 0 0 0]
 [0 2 0 0]
 [0 0 3 0]
 [0 0 0 4]]
</pre></div></div>
</div>
<p>Don’t forget you can use the <code class="docutils literal notranslate"><span class="pre">help</span></code> function or <code class="docutils literal notranslate"><span class="pre">?</span></code> introspection to get more info on any of the above.</p>
</section>
<section id="Array-attributes">
<h3>Array attributes<a class="headerlink" href="#Array-attributes" title="Permalink to this heading">¶</a></h3>
<p>NumPy arrays can be described by their shape, number of dimensions, size (i.e., number of elements they contain), data type, and memory usage, all of which are stored as attributes of the <code class="docutils literal notranslate"><span class="pre">ndarray</span></code> object.</p>
<p>Below we create a 3x4x5 array of random numbers between 0-9 and report the aforementioned attributes.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[212]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The array a: &quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Shape:                &#39;</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of dimensions: &#39;</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">ndim</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of elements:   &#39;</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Data type:            &#39;</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">dtype</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of bytes:      &#39;</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">nbytes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The array a:
[[[3 2 1 7 2]
  [4 9 2 6 9]
  [8 9 8 3 3]
  [5 1 9 3 5]]

 [[6 5 8 7 6]
  [6 0 4 9 3]
  [0 5 0 5 1]
  [9 3 0 3 1]]

 [[3 0 9 4 5]
  [7 6 5 9 7]
  [8 1 6 4 3]
  [8 8 3 7 9]]]
Shape:                 (3, 4, 5)
Number of dimensions:  3
Number of elements:    60
Data type:             int64
Number of bytes:       480
</pre></div></div>
</div>
</section>
<section id="Loading-text-files">
<h3>Loading text files<a class="headerlink" href="#Loading-text-files" title="Permalink to this heading">¶</a></h3>
<p>Rather than create arrays from NumPy functions, it is more likely that we will want to create them from data saved in a file somewhere. One of the simplest data formats is a plain text file with spaces between each value, an example of which can be found in the <code class="docutils literal notranslate"><span class="pre">data</span></code> folder of the course materials. Let’s inspect the contents using the <code class="docutils literal notranslate"><span class="pre">cat</span></code> shell utility.</p>
<hr class="docutils" />
<blockquote>
<div><p><strong>NOTE:</strong> <code class="docutils literal notranslate"><span class="pre">cat</span></code> is a Unix shell utility that con<em>cat</em>enates specified files and writes them to the standard output. If you are using Windows, you may need to use the <code class="docutils literal notranslate"><span class="pre">type</span></code> command instead.</p>
</div></blockquote>
<hr class="docutils" />
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="ch">#!type ../data/space_separated_values.txt</span>
<span class="o">!</span>cat ../data/space_separated_values.txt
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
24 23 15 77 46 366 26 12 4
98 79 4 6 366 3 4 3 55
35 7 92 30 24 70 8 3 2
</pre></div></div>
</div>
<p>Getting these data into an array is easily achieved with <code class="docutils literal notranslate"><span class="pre">np.loadtxt(...)</span></code>, which assumes whitespace as the default delimiter for values. We just need to pass in the name of the file.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;../data/space_separated_values.txt&#39;</span><span class="p">)</span>
<span class="n">data</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([[ 24.,  23.,  15.,  77.,  46., 366.,  26.,  12.,   4.],
       [ 98.,  79.,   4.,   6., 366.,   3.,   4.,   3.,  55.],
       [ 35.,   7.,  92.,  30.,  24.,  70.,   8.,   3.,   2.]])
</pre></div></div>
</div>
<p>The CSV file format is perhaps the most common for storing and sharing data, but CSV files are just plain text files with comma separated values.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="ch">#!type ../data/comma_separated_values.txt</span>
<span class="o">!</span>cat ../data/comma_separated_values.csv
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
3,4,52,6,78,9,44,2,1,4,41
9,79,6,37,85,1,2,4,66,34,24
1,114,43,46,7,88,797,9,79,24,37
</pre></div></div>
</div>
<p>Again, we can use <code class="docutils literal notranslate"><span class="pre">np.loadtxt(...)</span></code> to load these data as an array, but this time we must tell the function that commas are used to delimit the separate values.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;../data/comma_separated_values.csv&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="n">data</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
array([[  3.,   4.,  52.,   6.,  78.,   9.,  44.,   2.,   1.,   4.,  41.],
       [  9.,  79.,   6.,  37.,  85.,   1.,   2.,   4.,  66.,  34.,  24.],
       [  1., 114.,  43.,  46.,   7.,  88., 797.,   9.,  79.,  24.,  37.]])
</pre></div></div>
</div>
</section>
<section id="Descriptive-statistics">
<h3>Descriptive statistics<a class="headerlink" href="#Descriptive-statistics" title="Permalink to this heading">¶</a></h3>
<p>The <a class="reference external" href="https://en.wikipedia.org/wiki/Mean">mean</a>, or average, value of a numerical dataset is a useful measure of central tendency that most people know about. Depending on your background, you may not have heard of <a class="reference external" href="https://en.wikipedia.org/wiki/Variance">variance</a> or <a class="reference external" href="https://en.wikipedia.org/wiki/Standard_deviation">standard deviation</a>, statistics which measure the dispersion of data about the mean.</p>
<p>NumPy arrays have methods to calculate the mean, variance, standard deviation, and many other useful descriptives.</p>
<hr class="docutils" />
<blockquote>
<div><p><strong>NOTE: Mean, variance and standard deviation</strong>. If you measured the length of every match in a standard box of matches with sub-millimeter precision, the variance and standard deviation would be low, because the matches are all very similar in length. In this case, the mean length of a match would be very close to the actual length of any match taken out of the box. But if you measured the height of every person on the number 10 bus, the variance and standard deviation would be greater,
because humans vary naturally in height. Here’s a fun tutorial on <a class="reference external" href="https://www.mathsisfun.com/data/standard-deviation.html">variance and standard deviation</a>.</p>
</div></blockquote>
<hr class="docutils" />
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[222]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make array of 10 random integers between 0-100</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The array a:                     &#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Minimum value of a:              &#39;</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">min</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Maximum value of a:              &#39;</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">max</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Index of the minimum value in a: &#39;</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">argmin</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Index of the maximum value in a: &#39;</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">argmax</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Mean of a:                       &#39;</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Variance of a:                   &#39;</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">var</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Standard devition of a:          &#39;</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Sum of all elements in a:        &#39;</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The array a:                      [65 85 10 51 66 50 78 12 30  3]
Minimum value of a:               3
Maximum value of a:               85
Index of the minimum value in a:  9
Index of the maximum value in a:  1
Mean of a:                        45.0
Variance of a:                    789.4
Standard devition of a:           28.09626309671804
Sum of all elements in a:         450
</pre></div></div>
</div>
</section>
<section id="Array-indexing">
<h3>Array indexing<a class="headerlink" href="#Array-indexing" title="Permalink to this heading">¶</a></h3>
<p>As with lists, NumPy arrays can be indexed using the <code class="docutils literal notranslate"><span class="pre">[start:stop:step]</span></code> syntax, but remember that indices start at zero and the final index is exclusive.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make array of numbers 1-10</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The array a:                    &#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;First element:                  &#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;First two elements:             &#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">[:</span><span class="mi">2</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Last element:                   &#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Last two elements:              &#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">:])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Middle four elements:           &#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="p">:</span><span class="mi">7</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Every second element:           &#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">::</span><span class="mi">2</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Every second element, reversed: &#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">::</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The array a:                     [ 1.  2.  3.  4.  5.  6.  7.  8.  9. 10.]
First element:                   1.0
First two elements:              [1. 2.]
Last element:                    10.0
Last two elements:               [ 9. 10.]
Middle four elements:            [4. 5. 6. 7.]
Every second element:            [ 2.  4.  6.  8. 10.]
Every second element, reversed:  [10.  8.  6.  4.  2.]
</pre></div></div>
</div>
<p>It is very much the same story for multidimensional arrays, but commas are placed inside the square brackets to delimit the slices for each of the dimensions.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[231]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">36</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The array a:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;First row of a:     &#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="p">:])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Last row of a:      &#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">:])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Second column of a: &#39;</span><span class="p">,</span> <span class="n">a</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Centre of a:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Every other element of each dimension in reverse order: &#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[::</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="p">::</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The array a:
[[ 0  1  2  3  4  5]
 [ 6  7  8  9 10 11]
 [12 13 14 15 16 17]
 [18 19 20 21 22 23]
 [24 25 26 27 28 29]
 [30 31 32 33 34 35]]
First row of a:      [0 1 2 3 4 5]
Last row of a:       [30 31 32 33 34 35]
Second column of a:  [ 1  7 13 19 25 31]
Centre of a:
[[ 7  8  9 10]
 [13 14 15 16]
 [19 20 21 22]
 [25 26 27 28]]
Every other element of each dimension in reverse order:
[[35 33 31]
 [23 21 19]
 [11  9  7]]
</pre></div></div>
</div>
<p>When arrays have upwards of two dimensions, Python’s <code class="docutils literal notranslate"><span class="pre">Ellipsis</span></code> object (<code class="docutils literal notranslate"><span class="pre">...</span></code>) may be used to indicate a slice that contains all elements along a dimension.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">64</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">((</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The array a:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;All elements at x=2:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="o">...</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;All elements at z=3:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;All elements at x=0, z=2:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;All elements at x=1:3, z=2:5:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The array a:
[[[ 0  1  2  3]
  [ 4  5  6  7]
  [ 8  9 10 11]
  [12 13 14 15]]

 [[16 17 18 19]
  [20 21 22 23]
  [24 25 26 27]
  [28 29 30 31]]

 [[32 33 34 35]
  [36 37 38 39]
  [40 41 42 43]
  [44 45 46 47]]

 [[48 49 50 51]
  [52 53 54 55]
  [56 57 58 59]
  [60 61 62 63]]]
All elements at x=2:
[[32 33 34 35]
 [36 37 38 39]
 [40 41 42 43]
 [44 45 46 47]]
All elements at z=3:
[[ 3  7 11 15]
 [19 23 27 31]
 [35 39 43 47]
 [51 55 59 63]]
All elements at x=0, z=2:
[ 2  6 10 14]
All elements at x=1:3, z=2:5:
[[[18 19]
  [22 23]
  [26 27]
  [30 31]]

 [[34 35]
  [38 39]
  [42 43]
  [46 47]]]
</pre></div></div>
</div>
<p>As you can see, there are many ways to index the elements of NumPy arrays. <a class="reference external" href="https://numpy.org/doc/stable/reference/arrays.indexing.html">Check out this guide for more complex indexing routines</a>.</p>
</section>
</section>
<section id="matplotlib">
<h2>matplotlib<a class="headerlink" href="#matplotlib" title="Permalink to this heading">¶</a></h2>
<p>Matplotlib is a powerful and comprehensive library for visualising data. It plots data on <code class="docutils literal notranslate"><span class="pre">Figure</span></code>s with one or more <code class="docutils literal notranslate"><span class="pre">Axes</span></code>, each of which may have a unique coordinate system. The image below, which is borrowed from the <a class="reference external" href="https://matplotlib.org/stable/tutorials/introductory/quick_start.html">matplotlib quickstart guide</a>, does a great job of illustrating the anatomy of plots in matplotlib.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython</span> <span class="kn">import</span> <span class="n">display</span>
<span class="n">display</span><span class="o">.</span><span class="n">Image</span><span class="p">(</span><span class="s1">&#39;../images/parts_of_a_figure.jpeg&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_04_numpy_matplotlib_29_0.jpg" class="no-scaled-link" src="../_images/notebooks_04_numpy_matplotlib_29_0.jpg" style="width: 600px;" />
</div>
</div>
<p>As you can see, there is an overall <code class="docutils literal notranslate"><span class="pre">Figure</span></code> object that serves as a kind of window for the plot, and within the <code class="docutils literal notranslate"><span class="pre">Figure</span></code> there is an <code class="docutils literal notranslate"><span class="pre">Axes</span></code>. The <code class="docutils literal notranslate"><span class="pre">Axes</span></code> object has an <code class="docutils literal notranslate"><span class="pre">xaxis</span></code>, a <code class="docutils literal notranslate"><span class="pre">yaxis</span></code>, and various other elements such as <code class="docutils literal notranslate"><span class="pre">ticks</span></code>, <code class="docutils literal notranslate"><span class="pre">spines</span></code>, <code class="docutils literal notranslate"><span class="pre">grid</span></code>, etc., all of which are 100% customisable.</p>
<p>I’ll leave it to you to investigate the basic chart elements and to ponder the elegant design patterns of matplotlib. The <a class="reference external" href="https://matplotlib.org/stable/users/index.html">user guide</a> and <a class="reference external" href="https://matplotlib.org/stable/tutorials/index.html">online tutorials</a> cover everything in detail. For now, let’s look at some of the basic kind’s of plot and how they are made with matplotlib.</p>
<section id="Importing-matplotlib">
<h3>Importing matplotlib<a class="headerlink" href="#Importing-matplotlib" title="Permalink to this heading">¶</a></h3>
<p>The plotting interface for matplotlib is called “<code class="docutils literal notranslate"><span class="pre">pyplot</span></code>” and it can be imported as follows.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>
</div>
</div>
<p>After importing <code class="docutils literal notranslate"><span class="pre">pyplot</span></code> as above, there are two general approaches to using the library. The “implicit” <code class="docutils literal notranslate"><span class="pre">pyplot</span></code> interface involves prefixing all commands with <code class="docutils literal notranslate"><span class="pre">plt.</span></code> and letting matplotlib manage your <code class="docutils literal notranslate"><span class="pre">Figure</span></code> and <code class="docutils literal notranslate"><span class="pre">Axes</span></code> objects for you, whereas the “explicit” <code class="docutils literal notranslate"><span class="pre">Axes</span></code> interface, sometimes called the object oriented interface, involves keeping track of everything yourself and generally provides a cleaner way to make detailed and highly customised plots. I tend to use both interfaces
equally, but you can stick with whichever feels most intuitive. <a class="reference external" href="https://matplotlib.org/stable/users/explain/api_interfaces.html">Read more about the difference between the two here</a>.</p>
<p>Though not strictly necessary, you may wish to override the default plotting style with one of matplotlib’s alternative presets. To see which styles are available, run <code class="docutils literal notranslate"><span class="pre">plt.style.available</span></code>. Below I am switching to the <code class="docutils literal notranslate"><span class="pre">bmh</span></code> plotting style, as I think it makes nicer looking plots, in general.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Use the bmh plotting style</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;bmh&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</section>
<section id="Line-plots">
<h3>Line plots<a class="headerlink" href="#Line-plots" title="Permalink to this heading">¶</a></h3>
<p>Two-dimensional line plots are one of the simplest and most effective means of visualising the relationship between two variables, or tracking changes in one variable over time. Take for example the trigonometric functions <a class="reference external" href="https://en.wikipedia.org/wiki/Sine_and_cosine">sine and cosine</a>, which describe the ratio of angles in a right angle triangle. Remember, SOHCAHTOA…</p>
<p>These functions are well-suited for display in a 2-dimensional line plot.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a data point for every degree in a circle</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">360</span><span class="p">)</span>
<span class="n">degrees</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">rad2deg</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="c1"># Compute trignometric functions sine and cosine</span>
<span class="n">sine</span><span class="p">,</span> <span class="n">cosine</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="c1"># Plot the trigonometric functions</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">degrees</span><span class="p">,</span> <span class="n">sine</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;sin(x)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">degrees</span><span class="p">,</span> <span class="n">cosine</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;cos(x)&#39;</span><span class="p">)</span>

<span class="c1"># Add labels to the x-axis and y-axis</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;x (degrees)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">)</span>

<span class="c1"># Add a title</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Trigonometric Functions&#39;</span><span class="p">)</span>

<span class="c1"># Make a legend</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>

<span class="c1"># Save the figure as a jpg</span>
<span class="n">plt</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;trigonometric_functions.jpg&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_04_numpy_matplotlib_36_0.png" src="../_images/notebooks_04_numpy_matplotlib_36_0.png" />
</div>
</div>
<p>A lot just happened there. First, we created an array in NumPy to represent the angular data of a circle before calculating the sine and cosine of these data. Then, we plotted the data, specifying both a label and color for each line. After that, we added informative labels to the x- and y-axis. Finally, we added a title and legend, and then saved the plot as a <code class="docutils literal notranslate"><span class="pre">jpg</span></code>. This exemplifies the typical workflow using the <code class="docutils literal notranslate"><span class="pre">pyplot</span></code> interface.</p>
</section>
<section id="Scatter-plots">
<h3>Scatter plots<a class="headerlink" href="#Scatter-plots" title="Permalink to this heading">¶</a></h3>
<p>Scatter plots are a good choice for showing the relationship between two sets of data. They use dots or other markers to represent the values, with the position of each dot on the horizontal and vertical axis indicating the numeric values for an individual data point.</p>
<p>Suppose an ice cream shop was interested in the relationship between ice cream sales and temperature, so they decided to keep track of how much ice cream was sold in two weeks and recorded the temperature at noon each day.</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>Mon</p></th>
<th class="head"><p>Tue</p></th>
<th class="head"><p>Wed</p></th>
<th class="head"><p>Thu</p></th>
<th class="head"><p>Fri</p></th>
<th class="head"><p>Sat</p></th>
<th class="head"><p>Sun</p></th>
<th class="head"><p>Mon</p></th>
<th class="head"><p>Tue</p></th>
<th class="head"><p>Wed</p></th>
<th class="head"><p>Thu</p></th>
<th class="head"><p>Fri</p></th>
<th class="head"><p>Sat</p></th>
<th class="head"><p>Sun</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Ice cream sales (£)</p></td>
<td><p>223</p></td>
<td><p>343</p></td>
<td><p>154</p></td>
<td><p>298</p></td>
<td><p>414</p></td>
<td><p>562</p></td>
<td><p>232</p></td>
<td><p>419</p></td>
<td><p>612</p></td>
<td><p>544</p></td>
<td><p>431</p></td>
<td><p>457</p></td>
<td><p>421</p></td>
<td><p>480</p></td>
</tr>
<tr class="row-odd"><td><p>Temperature (°C)</p></td>
<td><p>14.1</p></td>
<td><p>16.5</p></td>
<td><p>11.3</p></td>
<td><p>15.5</p></td>
<td><p>18.4</p></td>
<td><p>22.7</p></td>
<td><p>12.4</p></td>
<td><p>19.4</p></td>
<td><p>23.9</p></td>
<td><p>22.3</p></td>
<td><p>18.5</p></td>
<td><p>22.2</p></td>
<td><p>17.3</p></td>
<td><p>19.3</p></td>
</tr>
</tbody>
</table>
<p>A scatter plot will help to reveal the underlying pattern in the data. Here’s how we can make it.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Temperature in degrees C at noon</span>
<span class="n">temperature</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
    <span class="p">[</span><span class="mf">14.1</span><span class="p">,</span> <span class="mf">16.5</span><span class="p">,</span> <span class="mf">11.3</span><span class="p">,</span> <span class="mf">15.5</span><span class="p">,</span> <span class="mf">18.4</span><span class="p">,</span> <span class="mf">22.7</span><span class="p">,</span> <span class="mf">12.4</span><span class="p">,</span>
     <span class="mf">19.4</span><span class="p">,</span> <span class="mf">23.9</span><span class="p">,</span> <span class="mf">22.3</span><span class="p">,</span> <span class="mf">18.5</span><span class="p">,</span> <span class="mf">22.2</span><span class="p">,</span> <span class="mf">17.3</span><span class="p">,</span> <span class="mf">19.3</span><span class="p">]</span>
<span class="p">)</span>
<span class="c1"># Ice cream sales</span>
<span class="n">ice_cream_sales</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span>
    <span class="p">[</span><span class="mi">223</span><span class="p">,</span> <span class="mi">343</span><span class="p">,</span> <span class="mi">154</span><span class="p">,</span> <span class="mi">298</span><span class="p">,</span> <span class="mi">414</span><span class="p">,</span> <span class="mi">562</span><span class="p">,</span> <span class="mi">232</span><span class="p">,</span>
     <span class="mi">419</span><span class="p">,</span> <span class="mi">612</span><span class="p">,</span> <span class="mi">544</span><span class="p">,</span> <span class="mi">431</span><span class="p">,</span> <span class="mi">457</span><span class="p">,</span> <span class="mi">421</span><span class="p">,</span> <span class="mi">480</span><span class="p">]</span>
<span class="p">)</span>

<span class="c1"># Make a scatter plot</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">temperature</span><span class="p">,</span> <span class="n">ice_cream_sales</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;v&#39;</span><span class="p">)</span>

<span class="c1"># Add labels to the x-axis and y-axis</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Temperature (degrees C)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Ice cream sales (£)&#39;</span><span class="p">)</span>

<span class="c1"># Add title</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Relationship between ice cream sales and temperature&#39;</span><span class="p">);</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_04_numpy_matplotlib_39_0.png" src="../_images/notebooks_04_numpy_matplotlib_39_0.png" />
</div>
</div>
<p>In this case, temperature and ice cream sales have a clear positive relationship.</p>
<p>Note how this plot was created with <code class="docutils literal notranslate"><span class="pre">plt.scatter</span></code> and that I specified which marker to use for the data points (the one that looked most like an ice cream cone). <a class="reference external" href="https://matplotlib.org/stable/api/markers_api.html">See here for other marker style options that are available</a>.</p>
</section>
<section id="Bar-charts">
<h3>Bar charts<a class="headerlink" href="#Bar-charts" title="Permalink to this heading">¶</a></h3>
<p>Bar charts show categorical data with rectangular bars of a height or width that is proportional to the values they represent.</p>
<p>They are used for all sorts of data, but it is quite common to see bar charts showing an average of some measure for each month in the year. Here’s an example. Manchester is famously a very rainy city, and <a class="reference external" href="https://www.climatestotravel.com/climate/england/manchester">on this webpage</a> I found data on average monthly rainfall for the period 1991-2020. How can we make a bar chart to visualise these data?</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create list of months</span>
<span class="n">months</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;January&#39;</span><span class="p">,</span> <span class="s1">&#39;February&#39;</span><span class="p">,</span> <span class="s1">&#39;March&#39;</span><span class="p">,</span> <span class="s1">&#39;April&#39;</span><span class="p">,</span> <span class="s1">&#39;May&#39;</span><span class="p">,</span> <span class="s1">&#39;June&#39;</span><span class="p">,</span>
    <span class="s1">&#39;July&#39;</span><span class="p">,</span> <span class="s1">&#39;August&#39;</span><span class="p">,</span> <span class="s1">&#39;September&#39;</span><span class="p">,</span> <span class="s1">&#39;October&#39;</span><span class="p">,</span> <span class="s1">&#39;November&#39;</span><span class="p">,</span> <span class="s1">&#39;December&#39;</span>
<span class="p">]</span>

<span class="c1"># List of average monthly rainfall in mm (from website)</span>
<span class="n">rainfall</span> <span class="o">=</span> <span class="p">[</span><span class="mi">70</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">55</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">65</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mi">70</span><span class="p">,</span> <span class="mi">95</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="mi">80</span><span class="p">]</span>

<span class="c1"># Create bar chart</span>
<span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">months</span><span class="p">,</span> <span class="n">rainfall</span><span class="p">)</span>

<span class="c1"># Rotate the month labels so they are readable</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">rotation</span><span class="o">=</span><span class="mi">45</span><span class="p">)</span>

<span class="c1"># Add an informative label to the y-axis</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Average precipitation (mm)&#39;</span><span class="p">)</span>

<span class="c1"># Add a title</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span>
    <span class="s1">&#39;Average monthly precipitation in Manchester, UK</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="s1">&#39;(based on the period 1991-2020)&#39;</span>
<span class="p">);</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_04_numpy_matplotlib_42_0.png" src="../_images/notebooks_04_numpy_matplotlib_42_0.png" />
</div>
</div>
<p>If you don’t like rain, best avoid Manchester in October. February looks enticingly dry, but it will also be cold with less daylight. April or May?</p>
<p>Note the use of <code class="docutils literal notranslate"><span class="pre">plt.xticks</span></code> to control the rotation angle of the text labels for each month. To see why this was necessary, try re-running the code after commenting out that line.</p>
</section>
<section id="Histograms">
<h3>Histograms<a class="headerlink" href="#Histograms" title="Permalink to this heading">¶</a></h3>
<p>A histogram is kind of bar chart that represents data in user-specified ranges. A common use of a histogram is to illustrate how data are distributed about the mean.</p>
<p>The <a class="reference external" href="https://en.wikipedia.org/wiki/Normal_distribution">Normal Distribution</a>, sometimes called the bell curve, is a probability distribution that describes many naturally occurring phenomena, one example being the height of human beings. The excellent website <a class="reference external" href="https://ourworldindata.org/">Our World in Data</a> has <a class="reference external" href="https://ourworldindata.org/human-height">a page on human height</a> which states that the mean and standard deviation of height in centimeters for men and woman across Europe,
North America, Australia, and East Asia, is:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="head"><p>Mean</p></th>
<th class="head"><p>SD</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Men</p></td>
<td><p>178.4</p></td>
<td><p>7.59</p></td>
</tr>
<tr class="row-odd"><td><p>Women</p></td>
<td><p>164.7</p></td>
<td><p>7.07</p></td>
</tr>
</tbody>
</table>
<p>With these parameters, we can simulate height data for a large sample of men and women using <code class="docutils literal notranslate"><span class="pre">np.random.normal</span></code>, and then plot the data as overlapping histograms.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># One-million samples</span>
<span class="n">sample_size</span> <span class="o">=</span> <span class="mi">1_000_000</span>

<span class="c1"># Sample from the normal distribution with specified</span>
<span class="c1"># mean and stadard deviation for men and women</span>
<span class="n">men</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mf">178.4</span><span class="p">,</span> <span class="mf">7.59</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">)</span>
<span class="n">women</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mf">164.7</span><span class="p">,</span> <span class="mf">7.07</span><span class="p">,</span> <span class="n">sample_size</span><span class="p">)</span>

<span class="c1"># Group the data in one-centimeter bins from 130-220 cm</span>
<span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">130</span><span class="p">,</span> <span class="mi">220</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Plot overlapping histograms (throwing away the return values)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">men</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Men&#39;</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">women</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Women&#39;</span><span class="p">)</span>

<span class="c1"># Label x- and y-axis</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Height (cm)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Number of people&#39;</span><span class="p">)</span>

<span class="c1"># Add an overall title for the figure</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span>
    <span class="s1">&#39;Simulated height distribution for one-million men and woman sampled</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="s1">&#39;randomly from Europe, North America, Australia, and East Asia&#39;</span>
<span class="p">)</span>

<span class="c1"># Add a legend</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_04_numpy_matplotlib_45_0.png" src="../_images/notebooks_04_numpy_matplotlib_45_0.png" />
</div>
</div>
<p>If we actually went out and measured one-million men and women chosen at random from Europe, North America, Australia, and East Asia, the data should look very much like the above. We can summarise as follows:</p>
<ul class="simple">
<li><p>On average, Men are taller than women</p></li>
<li><p>Women show less variation</p></li>
</ul>
<p>Note the use of <code class="docutils literal notranslate"><span class="pre">alpha=.5</span></code> for the histograms, which makes the bars slightly transparent. This is necessarry because the histograms overlap and are being displayed on the same axis. Try removing <code class="docutils literal notranslate"><span class="pre">alpha=.5</span></code> from each <code class="docutils literal notranslate"><span class="pre">plt.hist</span></code> call. Does that make for a better plot?</p>
</section>
<section id="Pie-charts">
<h3>Pie charts<a class="headerlink" href="#Pie-charts" title="Permalink to this heading">¶</a></h3>
<p>Pie charts show percentages of a whole. In general, they are not a very useful means of communicating data, because people are much better at comparing lengths and heights (i.e., as in a bar chart) than areas within a circle.</p>
<p>That said, there are some good pie charts out there. Take for example <a class="reference external" href="https://www.nhs.uk/live-well/eat-well/food-guidelines-and-food-labels/the-eatwell-guide/">The Eatwell Guide</a>, which the UK Government and NHS use to advise us on how much of our overall food intake should come from each food group if we are to maintain a healthy, balanced diet.</p>
<p>Let’s recreate it with matplotlib. All the information we need can be attained from the following webpage:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.gov.uk/government/publications/the-eatwell-guide">https://www.gov.uk/government/publications/the-eatwell-guide</a></p></li>
</ul>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Labels for each slice of the pie.</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;Fruit and vegetables&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Beans, pulses, fish, eggs, meat and other protein&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Dairy and alternatives&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Oils and spreads&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Potatoes, bread, rice,</span><span class="se">\n</span><span class="s1"> pasta and other starchy</span><span class="se">\n</span><span class="s1"> carbohydrate foods&#39;</span>
<span class="p">]</span>

<span class="c1"># Values representing slice sizes (obtained from government webpage).</span>
<span class="n">sizes</span> <span class="o">=</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">39</span><span class="p">]</span>

<span class="c1"># Whether to &#39;explode&#39; a slice of the pie, and by how much.</span>
<span class="n">explode</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

<span class="c1"># Colours for each slice</span>
<span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;tab:green&#39;</span><span class="p">,</span> <span class="s1">&#39;tab:red&#39;</span><span class="p">,</span> <span class="s1">&#39;tab:blue&#39;</span><span class="p">,</span> <span class="s1">&#39;tab:olive&#39;</span><span class="p">,</span> <span class="s1">&#39;tab:brown&#39;</span><span class="p">]</span>

<span class="c1"># Make the plot</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="c1"># Plot the pie chart</span>
<span class="n">ax</span><span class="o">.</span><span class="n">pie</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">sizes</span><span class="p">,</span> <span class="n">explode</span><span class="o">=</span><span class="n">explode</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">labels</span><span class="p">,</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%1.1f%%</span><span class="s1">&#39;</span><span class="p">,</span>
        <span class="n">shadow</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">startangle</span><span class="o">=</span><span class="mi">90</span><span class="p">,</span> <span class="n">colors</span><span class="o">=</span><span class="n">colors</span><span class="p">)</span>

<span class="c1"># Equal aspect ratio ensures that pie is drawn as a circle.</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;equal&#39;</span><span class="p">)</span>

<span class="c1"># Set title</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;The Eatwell Guide&#39;</span><span class="p">);</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_04_numpy_matplotlib_48_0.png" src="../_images/notebooks_04_numpy_matplotlib_48_0.png" />
</div>
</div>
<p>Why does this work so well? Perhaps because pie itself is a type of food, or because the plot is shaped like a dinner plate and people can visualise their own meals and how much the food group proportions agree with the recommendations. Whatever the reason, its hard to deny that this plot is intuitive, or that it would carry the same message more effectively if the data were shown in an alternative format.</p>
<p>Perhaps you noticed the different approach to plotting here. The <code class="docutils literal notranslate"><span class="pre">Figure</span></code> and <code class="docutils literal notranslate"><span class="pre">Axes</span></code> objects are created with <code class="docutils literal notranslate"><span class="pre">plt.subplots</span></code> and stored as variables, and then plotting is then done by calling methods directly on the <code class="docutils literal notranslate"><span class="pre">Axes</span></code> object. This is an example of the explicit object oriented interface.</p>
</section>
<section id="2.5-Box-and-whisker-plots">
<h3>2.5 Box-and-whisker plots<a class="headerlink" href="#2.5-Box-and-whisker-plots" title="Permalink to this heading">¶</a></h3>
<p>Box-and-whisker plots, sometimes just called boxplots, display how one or more groups of numeric data are distributed around their median value. The box contains the central 50% of the data, the whiskers delimit the upper and lower quartiles, and individual points may be used to show data considered to be outliers.</p>
<p>Next year I plan to go cycle-packing on the Isle of Skye and would very much like to avoid getting soaked. I found some data on the following website for average monthly rainfall across the last 10 years.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www2.sepa.org.uk/rainfall">https://www2.sepa.org.uk/rainfall</a></p></li>
</ul>
<p>A boxplot will help me decide when to book my leave, so as to minimise my chances of getting soaked.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="c1"># Months of the year</span>
<span class="n">months</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;January&#39;</span><span class="p">,</span> <span class="s1">&#39;February&#39;</span><span class="p">,</span> <span class="s1">&#39;March&#39;</span><span class="p">,</span> <span class="s1">&#39;April&#39;</span><span class="p">,</span> <span class="s1">&#39;May&#39;</span><span class="p">,</span> <span class="s1">&#39;June&#39;</span><span class="p">,</span>
    <span class="s1">&#39;July&#39;</span><span class="p">,</span> <span class="s1">&#39;August&#39;</span><span class="p">,</span> <span class="s1">&#39;September&#39;</span><span class="p">,</span> <span class="s1">&#39;October&#39;</span><span class="p">,</span> <span class="s1">&#39;November&#39;</span><span class="p">,</span> <span class="s1">&#39;December&#39;</span>
<span class="p">]</span>

<span class="c1"># Average rainfall per month at Allt Dearg House on the Isle of Sky (2012-2022)</span>
<span class="c1"># Obtained from https://www2.sepa.org.uk/rainfall</span>
<span class="n">jan</span> <span class="o">=</span> <span class="p">[</span><span class="mf">444.0</span><span class="p">,</span> <span class="mf">544.0</span><span class="p">,</span> <span class="mf">593.0</span><span class="p">,</span> <span class="mf">436.6</span><span class="p">,</span> <span class="mf">280.0</span><span class="p">,</span> <span class="mf">493.4</span><span class="p">,</span> <span class="mf">235.2</span><span class="p">,</span> <span class="mf">618.2</span><span class="p">,</span> <span class="mf">251.2</span><span class="p">,</span> <span class="mf">390.2</span><span class="p">]</span>
<span class="n">feb</span> <span class="o">=</span> <span class="p">[</span><span class="mf">364.8</span><span class="p">,</span> <span class="mf">191.6</span><span class="p">,</span> <span class="mf">576.4</span><span class="p">,</span> <span class="mf">448.6</span><span class="p">,</span> <span class="mf">438.2</span><span class="p">,</span> <span class="mf">360.0</span><span class="p">,</span> <span class="mf">342.0</span><span class="p">,</span> <span class="mf">538.4</span><span class="p">,</span> <span class="mf">515.2</span><span class="p">,</span> <span class="mf">160.4</span><span class="p">,</span> <span class="mf">554.8</span><span class="p">]</span>
<span class="n">mar</span> <span class="o">=</span> <span class="p">[</span><span class="mf">235.0</span><span class="p">,</span> <span class="mf">75.6</span><span class="p">,</span> <span class="mf">411.2</span><span class="p">,</span> <span class="mf">512.6</span><span class="p">,</span> <span class="mf">365.8</span><span class="p">,</span> <span class="mf">277.0</span><span class="p">,</span> <span class="mf">163.6</span><span class="p">,</span> <span class="mf">372.8</span><span class="p">,</span> <span class="mf">680.4</span><span class="p">,</span> <span class="mf">276.6</span><span class="p">,</span> <span class="mf">207.0</span><span class="p">]</span>
<span class="n">apr</span> <span class="o">=</span> <span class="p">[</span><span class="mf">107.2</span><span class="p">,</span> <span class="mf">438.8</span><span class="p">,</span> <span class="mf">223.0</span><span class="p">,</span> <span class="mf">145.0</span><span class="p">,</span> <span class="mf">257.0</span><span class="p">,</span> <span class="mf">182.6</span><span class="p">,</span> <span class="mf">215.2</span><span class="p">,</span> <span class="mf">63.8</span><span class="p">,</span> <span class="mf">83.8</span><span class="p">,</span> <span class="mf">51.6</span><span class="p">,</span> <span class="mf">148.0</span><span class="p">]</span>
<span class="n">may</span> <span class="o">=</span> <span class="p">[</span><span class="mf">127.8</span><span class="p">,</span> <span class="mf">282.6</span><span class="p">,</span> <span class="mf">187.4</span><span class="p">,</span> <span class="mf">359.6</span><span class="p">,</span> <span class="mf">238.0</span><span class="p">,</span> <span class="mf">91.0</span><span class="p">,</span> <span class="mf">250.6</span><span class="p">,</span> <span class="mf">126.2</span><span class="p">,</span> <span class="mf">242.2</span><span class="p">,</span> <span class="mf">86.2</span><span class="p">,</span> <span class="mf">448.2</span><span class="p">]</span>
<span class="n">jun</span> <span class="o">=</span> <span class="p">[</span><span class="mf">80.0</span><span class="p">,</span> <span class="mf">126.8</span><span class="p">,</span> <span class="mf">56.2</span><span class="p">,</span> <span class="mf">215.8</span><span class="p">,</span> <span class="mf">156.0</span><span class="p">,</span> <span class="mf">250.6</span><span class="p">,</span> <span class="mf">194.0</span><span class="p">,</span> <span class="mf">243.8</span><span class="p">,</span> <span class="mf">197.2</span><span class="p">,</span> <span class="mf">142.8</span><span class="p">,</span> <span class="mf">279.4</span><span class="p">]</span>
<span class="n">jul</span> <span class="o">=</span> <span class="p">[</span><span class="mf">147.2</span><span class="p">,</span> <span class="mf">99.8</span><span class="p">,</span> <span class="mf">309.2</span><span class="p">,</span> <span class="mf">323.4</span><span class="p">,</span> <span class="mf">287.0</span><span class="p">,</span> <span class="mf">292.4</span><span class="p">,</span> <span class="mf">238.6</span><span class="p">,</span> <span class="mf">245.0</span><span class="p">,</span> <span class="mf">178.2</span><span class="p">,</span> <span class="mf">57.0</span><span class="p">,</span> <span class="mf">201.0</span><span class="p">]</span>
<span class="n">aug</span> <span class="o">=</span> <span class="p">[</span><span class="mf">195.2</span><span class="p">,</span> <span class="mf">341.2</span><span class="p">,</span> <span class="mf">254.2</span><span class="p">,</span> <span class="mf">283.8</span><span class="p">,</span> <span class="mf">286.0</span><span class="p">,</span> <span class="mf">411.0</span><span class="p">,</span> <span class="mf">334.8</span><span class="p">,</span> <span class="mf">558.8</span><span class="p">,</span> <span class="mf">135.6</span><span class="p">,</span> <span class="mf">196.6</span><span class="p">,</span> <span class="mf">205.2</span><span class="p">]</span>
<span class="n">sep</span> <span class="o">=</span> <span class="p">[</span><span class="mf">352.6</span><span class="p">,</span> <span class="mf">272.4</span><span class="p">,</span> <span class="mf">162.6</span><span class="p">,</span> <span class="mf">143.2</span><span class="p">,</span> <span class="mf">714.8</span><span class="p">,</span> <span class="mf">303.4</span><span class="p">,</span> <span class="mf">533.4</span><span class="p">,</span> <span class="mf">275.8</span><span class="p">,</span> <span class="mf">405.0</span><span class="p">,</span> <span class="mf">303.2</span><span class="p">,</span> <span class="mf">301.6</span><span class="p">]</span>
<span class="n">octbr</span> <span class="o">=</span> <span class="p">[</span><span class="mf">196.8</span><span class="p">,</span> <span class="mf">437.4</span><span class="p">,</span> <span class="mf">691.6</span><span class="p">,</span> <span class="mf">316.8</span><span class="p">,</span> <span class="mf">129.0</span><span class="p">,</span> <span class="mf">605.4</span><span class="p">,</span> <span class="mf">490.8</span><span class="p">,</span> <span class="mf">239.8</span><span class="p">,</span> <span class="mf">644.8</span><span class="p">,</span> <span class="mf">600.2</span><span class="p">,</span> <span class="mf">664.4</span><span class="p">]</span>
<span class="n">nov</span> <span class="o">=</span> <span class="p">[</span><span class="mf">603.8</span><span class="p">,</span> <span class="mf">287.4</span><span class="p">,</span> <span class="mf">373.6</span><span class="p">,</span> <span class="mf">499.4</span><span class="p">,</span> <span class="mf">270.6</span><span class="p">,</span> <span class="mf">435.8</span><span class="p">,</span> <span class="mf">492.6</span><span class="p">,</span> <span class="mf">79.0</span><span class="p">,</span> <span class="mf">739.2</span><span class="p">,</span> <span class="mf">445.8</span><span class="p">]</span>
<span class="n">dec</span> <span class="o">=</span> <span class="p">[</span><span class="mf">488.0</span><span class="p">,</span> <span class="mf">829.2</span><span class="p">,</span> <span class="mf">534.2</span><span class="p">,</span> <span class="mf">872.4</span><span class="p">,</span> <span class="mf">507.4</span><span class="p">,</span> <span class="mf">419.4</span><span class="p">,</span> <span class="mf">386.8</span><span class="p">,</span> <span class="mf">446.8</span><span class="p">,</span> <span class="mf">543.2</span><span class="p">,</span> <span class="mf">309.0</span><span class="p">]</span>

<span class="c1"># List of all data</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">jan</span><span class="p">,</span> <span class="n">feb</span><span class="p">,</span> <span class="n">mar</span><span class="p">,</span> <span class="n">apr</span><span class="p">,</span> <span class="n">may</span><span class="p">,</span> <span class="n">jun</span><span class="p">,</span> <span class="n">jul</span><span class="p">,</span> <span class="n">aug</span><span class="p">,</span> <span class="n">sep</span><span class="p">,</span> <span class="n">octbr</span><span class="p">,</span> <span class="n">nov</span><span class="p">,</span> <span class="n">dec</span><span class="p">]</span>

<span class="c1"># Make figure and axes object</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="c1"># Make a boxplot</span>
<span class="n">bp</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span>
    <span class="n">data</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">labels</span><span class="o">=</span><span class="n">months</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
    <span class="n">vert</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">showmeans</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">meanprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="n">markerfacecolor</span><span class="o">=</span><span class="s1">&#39;cyan&#39;</span><span class="p">,</span> <span class="n">markeredgecolor</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">),</span>
    <span class="n">flierprops</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">markerfacecolor</span><span class="o">=</span><span class="s1">&#39;blue&#39;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Add label for x-axis</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Average rainfall (mm)&#39;</span><span class="p">)</span>

<span class="c1"># Add title</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span>
    <span class="s1">&#39;Average monthly rainfall at Allt Dearg House,</span><span class="se">\n</span><span class="s1">&#39;</span>
    <span class="s1">&#39;Isle of Sky, Scotland (2012-2022).&#39;</span>
<span class="p">);</span>

<span class="c1"># Add a legend describing symbols</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span>
    <span class="n">handles</span><span class="o">=</span><span class="p">[</span><span class="n">bp</span><span class="p">[</span><span class="s1">&#39;medians&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">bp</span><span class="p">[</span><span class="s1">&#39;means&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="n">bp</span><span class="p">[</span><span class="s1">&#39;fliers&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]],</span>
    <span class="n">labels</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Median&#39;</span><span class="p">,</span> <span class="s1">&#39;Grand average&#39;</span><span class="p">,</span> <span class="s1">&#39;Outlier&#39;</span><span class="p">],</span>
    <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center right&#39;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Legend&#39;</span><span class="p">,</span>
    <span class="n">frameon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">shadow</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="p">);</span>
<br/></pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_04_numpy_matplotlib_51_0.png" src="../_images/notebooks_04_numpy_matplotlib_51_0.png" />
</div>
</div>
<p>What is this chart telling us? Remember, the boxes show the middle 50% of the data, the whiskers show the upper and lower quartiles, and outliers are plotted as individual points. The red line in each box shows the median value for that month, and I’ve additionally added a cyan diamond to show the grand average across the 10-year period. For ease of interpretation, this information is present in the form of a legend. This is a more complex example, but it shows how the very fine details of a
plot can be customised using matplotlib.</p>
<p>So, when is the best time to go to Skye? October, November and December can be written off as they had the highest average rainfall in the last 10 years, and their broad distributions suggest unpredictability. The same can be said, though to a lesser extent, of January, February and March. June does look appealing and will probably come with a better chance of sunshine than April or May, but I’m aware that the midges come out mid May and can be unbearable by June.</p>
<p>All things considered, it looks like late April to early May is the best time to go cycle-packing on the Isle of Skye.</p>
</section>
<section id="Displaying-images">
<h3>Displaying images<a class="headerlink" href="#Displaying-images" title="Permalink to this heading">¶</a></h3>
<p>Matplotlib can also display images, which are basically just numbers as far as a computer is concerned.</p>
<p>A standard computer display comprises many individual picture elements (i.e., pixels), each with three components—red, green and blue. The colour of a pixel is determined by the relative mixture of the RGB intensities, which in a standard 8-bit system can range between 0-255. A colour image is therefore a <em>``NxNx3``</em> array.</p>
<p>Let’s use NumPy to generate a random colour image and then show it using <code class="docutils literal notranslate"><span class="pre">plt.imshow</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create a random 50x50 px colour image</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">256</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>

<span class="c1"># Display the image</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_04_numpy_matplotlib_54_0.png" src="../_images/notebooks_04_numpy_matplotlib_54_0.png" />
</div>
</div>
<p>To read an actual image from file (e.g., <code class="docutils literal notranslate"><span class="pre">jpg</span></code>, <code class="docutils literal notranslate"><span class="pre">png</span></code>, etc.), we can use matplotlib’s <code class="docutils literal notranslate"><span class="pre">plt.imread</span></code> function.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[103]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">img</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s1">&#39;../images/IMG_0756.jpg&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Shape of image :&quot;</span><span class="p">,</span> <span class="n">img</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">img</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Wild-camping on the the Isle of Harris (2022)&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Shape of image : (384, 512, 3)
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_04_numpy_matplotlib_56_1.png" src="../_images/notebooks_04_numpy_matplotlib_56_1.png" />
</div>
</div>
<p>As mentioned above, computerised images are made by mixing different quantities of red, blue and green. With some NumPy code, we can make a copy of <code class="docutils literal notranslate"><span class="pre">img</span></code> for each pixel component and null out the other colours, which will allow us to view the red, green and blue components separately.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[101]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make a figure with three axes in a single row</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>

<span class="c1"># Copy of image for red, green and blue pixel components</span>
<span class="n">red</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">green</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">blue</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># Get rid of other components</span>
<span class="n">red</span><span class="p">[:,:,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Null out green and blue</span>
<span class="n">green</span><span class="p">[:,:,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Null out red and blue</span>
<span class="n">blue</span><span class="p">[:,:,[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]]</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># Null out red and green</span>

<span class="c1"># Display each new image</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">red</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">green</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">blue</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_04_numpy_matplotlib_58_0.png" src="../_images/notebooks_04_numpy_matplotlib_58_0.png" />
</div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">CLLPython</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="00_introduction_to_the_python_programming_language.html">Week 0 - Introduction to the Python programming language</a></li>
<li class="toctree-l1"><a class="reference internal" href="01_syntax_types_builtins.html">Week 1 - Syntax, data types, and built-in functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_logic_operators_control_statements.html">Week 2 - Operators, control flow statements, defining functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_imports_standard_library_PyPI.html">Week 3 - Imports, the standard library, and third-party libraries</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Week 4 - NumPy and matplotlib</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#NumPy">NumPy</a></li>
<li class="toctree-l2"><a class="reference internal" href="#matplotlib">matplotlib</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="05_pandas.html">Week 5 - pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="06_more_pandas.html">Week 6 - More about <code class="docutils literal notranslate"><span class="pre">pandas</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="07_other_libraries.html">Week 8 - Other libraries and cool things</a></li>
<li class="toctree-l1"><a class="reference internal" href="07_other_libraries.html#Geographical-plots-with-cartopy">Geographical plots with <code class="docutils literal notranslate"><span class="pre">cartopy</span></code></a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="03_imports_standard_library_PyPI.html" title="previous chapter">Week 3 - Imports, the standard library, and third-party libraries</a></li>
      <li>Next: <a href="05_pandas.html" title="next chapter">Week 5 - pandas</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Joel T. Martin.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/notebooks/04_numpy_matplotlib.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>