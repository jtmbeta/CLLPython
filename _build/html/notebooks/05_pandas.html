
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Week 5 - pandas &#8212; CLLPython 0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Week 6 - More about pandas" href="06_more_pandas.html" />
    <link rel="prev" title="Week 4 - NumPy and matplotlib" href="04_numpy_matplotlib.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container div.prompt *,
div.nboutput.container div.prompt *,
div.nbinput.container div.input_area pre,
div.nboutput.container div.output_area pre,
div.nbinput.container div.input_area .highlight,
div.nboutput.container div.output_area .highlight {
    border: none;
    padding: 0;
    margin: 0;
    box-shadow: none;
}

div.nbinput.container > div[class*=highlight],
div.nboutput.container > div[class*=highlight] {
    margin: 0;
}

div.nbinput.container div.prompt *,
div.nboutput.container div.prompt * {
    background: none;
}

div.nboutput.container div.output_area .highlight,
div.nboutput.container div.output_area pre {
    background: unset;
}

div.nboutput.container div.output_area div.highlight {
    color: unset;  /* override Pygments text color */
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    width: 4.5ex;
    padding-top: 5px;
    position: relative;
    user-select: none;
}

div.nbinput.container div.prompt > div,
div.nboutput.container div.prompt > div {
    position: absolute;
    right: 0;
    margin-right: 0.3ex;
}

@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        width: unset;
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }

    div.nbinput.container div.prompt > div,
    div.nboutput.container div.prompt > div {
        position: unset;
    }
}

/* disable scrollbars and line breaks on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
    white-space: pre;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    /*background: #f5f5f5;*/
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }


div.nbinput.container div.input_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight] > pre,
div.nboutput.container div.output_area div[class*=highlight].math,
div.nboutput.container div.output_area.rendered_html,
div.nboutput.container div.output_area > div.output_javascript,
div.nboutput.container div.output_area:not(.rendered_html) > img{
    padding: 5px;
    margin: 0;
}

/* fix copybtn overflow problem in chromium (needed for 'sphinx_copybutton') */
div.nbinput.container div.input_area > div[class^='highlight'],
div.nboutput.container div.output_area > div[class^='highlight']{
    overflow-y: hidden;
}

/* hide copybtn icon on prompts (needed for 'sphinx_copybutton') */
.prompt .copybtn {
    display: none;
}

/* Some additional styling taken form the Jupyter notebook CSS */
.jp-RenderedHTMLCommon table,
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
.jp-RenderedHTMLCommon thead,
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
.jp-RenderedHTMLCommon tr,
.jp-RenderedHTMLCommon th,
.jp-RenderedHTMLCommon td,
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
.jp-RenderedHTMLCommon th,
div.rendered_html th {
  font-weight: bold;
}
.jp-RenderedHTMLCommon tbody tr:nth-child(odd),
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
.jp-RenderedHTMLCommon tbody tr:hover,
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}
</style>
<section id="Week-5---pandas">
<h1>Week 5 - pandas<a class="headerlink" href="#Week-5---pandas" title="Permalink to this heading">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">pandas</span></code> is an open source library that brings high-performance, easy-to-use data structures and analysis tools to the Python programming language. It’s core features are its 1-dimensional <code class="docutils literal notranslate"><span class="pre">Series</span></code> and 2-dimensional <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> objects. The former is like a NumPy array (<code class="docutils literal notranslate"><span class="pre">pandas</span></code> is built on top of NumPy) with an explicit index, and the latter is a bit like an Excel worksheet.</p>
<p>The <a class="reference external" href="https://pandas.pydata.org/docs/user_guide/10min.html">10 minutes to pandas</a> and <a class="reference external" href="https://pandas.pydata.org/docs/getting_started/index.html">getting started</a> guides are excellent places to learn more, but read on for my own tour of the library which draws comparisons between pandas and familiar spreadsheet programs (e.g., <a class="reference external" href="https://support.microsoft.com/en-us/excel">Microsoft Excel</a>, <a class="reference external" href="https://www.apple.com/uk/numbers/">Apple Numbers</a>, <a class="reference external" href="https://www.libreoffice.org/discover/calc/">LibreOffice
Calc</a>, <a class="reference external" href="https://www.google.co.uk/sheets/about/">Google Sheets</a>).</p>
<section id="Importing-pandas">
<h2>Importing <code class="docutils literal notranslate"><span class="pre">pandas</span></code><a class="headerlink" href="#Importing-pandas" title="Permalink to this heading">¶</a></h2>
<p>The community agreed custom for importing <code class="docutils literal notranslate"><span class="pre">pandas</span></code> is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
<p>This gives us access to all <code class="docutils literal notranslate"><span class="pre">pandas</span></code> functionality, which means it is a bit like clicking on the desktop icon that launches a spreadsheet application. Let’s import <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, and while we are at it, let’s also import <code class="docutils literal notranslate"><span class="pre">numpy</span></code> and <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code> (and set some configuration options).</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;bmh&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>We’ll begin with a detailed look at the <code class="docutils literal notranslate"><span class="pre">Series</span></code> and <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> objects.</p>
</section>
<section id="Series">
<h2><code class="docutils literal notranslate"><span class="pre">Series</span></code><a class="headerlink" href="#Series" title="Permalink to this heading">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">pd.Series</span></code> is much like a 1-dimensional NumPy array, but with explicit axis labels, the ability to hold any data type, and various feature and method enhancements to simplify working with complex data. We can think of a <code class="docutils literal notranslate"><span class="pre">Series</span></code> as the rough equivalent of a column in a spreadsheet application.</p>
<p>The basic way of making a <code class="docutils literal notranslate"><span class="pre">Series</span></code> is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that the argument for <code class="docutils literal notranslate"><span class="pre">data</span></code> can take various forms, such as a Python dictionary, a <code class="docutils literal notranslate"><span class="pre">numpy</span></code> array, a list, or even a single value. If provided, <code class="docutils literal notranslate"><span class="pre">index</span></code> must be a list of axis labels with the same length as <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p>
<p>Here’s a simple <code class="docutils literal notranslate"><span class="pre">Series</span></code> of random numbers.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0     0.965606
1     0.500888
2     0.485584
3     0.704136
4     0.001702
        ...
95    0.199428
96    0.274759
97    0.653682
98    0.639472
99    0.949416
Length: 100, dtype: float64
</pre></div></div>
</div>
<p>We didn’t specify an <code class="docutils literal notranslate"><span class="pre">index</span></code>, so a default integer-based index (starting at 0) was applied, which we can see to the left of the actual values. Below the index and values we can also see the length and data type.</p>
<p>Now, let’s make a <code class="docutils literal notranslate"><span class="pre">Series</span></code> containing the letters of the alphabet and assign also an <code class="docutils literal notranslate"><span class="pre">index</span></code> and a <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">letters</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="s1">&#39;abcdefghijklmnopqrstuvwxyz&#39;</span><span class="p">)</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">letters</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">27</span><span class="p">),</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;lowercase&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
1     a
2     b
3     c
4     d
5     e
6     f
7     g
8     h
9     i
10    j
11    k
12    l
13    m
14    n
15    o
16    p
17    q
18    r
19    s
20    t
21    u
22    v
23    w
24    x
25    y
26    z
Name: lowercase, dtype: object
</pre></div></div>
</div>
<p>A few things to note here. First, the <code class="docutils literal notranslate"><span class="pre">index</span></code> doesn’t default to zero because we specified our own labels. Second, the <code class="docutils literal notranslate"><span class="pre">name</span></code> we provided is shown below the values (this is analogous to a column header in spreadsheet applications). Third, the data type is <code class="docutils literal notranslate"><span class="pre">object</span></code>, denoting that the <code class="docutils literal notranslate"><span class="pre">Series</span></code> contains <code class="docutils literal notranslate"><span class="pre">str</span></code> data.</p>
</section>
<section id="DataFrame">
<h2><code class="docutils literal notranslate"><span class="pre">DataFrame</span></code><a class="headerlink" href="#DataFrame" title="Permalink to this heading">¶</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> is a 2-dimensional data structure consisting of rows and columns, which makes it similar to a worksheet in Microsfot Excel. Each column in a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> is a <code class="docutils literal notranslate"><span class="pre">Series</span></code>, which by now we know to be a feature-enhanced, explicitly indexed, NumPy array that can contain any type of data. A <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, then, is a collection of <code class="docutils literal notranslate"><span class="pre">Series</span></code> that share a common <code class="docutils literal notranslate"><span class="pre">Index</span></code>.</p>
<p>An easy way to create a basic <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>is to pass a Python <code class="docutils literal notranslate"><span class="pre">dict</span></code> to the <code class="docutils literal notranslate"><span class="pre">pd.DataFrame(...)</span></code> constructor. In this scenario, the keys will serve as names for the columns, and the values, which must be convertible to a series-like data structure, will be the data.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># It&#39;s the familiar shopping example again...</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="s1">&#39;item&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;apples&#39;</span><span class="p">,</span> <span class="s1">&#39;bananas&#39;</span><span class="p">,</span> <span class="s1">&#39;bread&#39;</span><span class="p">,</span> <span class="s1">&#39;yoghurt&#39;</span><span class="p">,</span> <span class="s1">&#39;pasta&#39;</span><span class="p">,</span> <span class="s1">&#39;coffee&#39;</span><span class="p">,</span> <span class="s1">&#39;butter&#39;</span><span class="p">,</span> <span class="s1">&#39;carrots&#39;</span><span class="p">],</span>
        <span class="s1">&#39;unit_price&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">2.20</span><span class="p">,</span> <span class="mf">1.85</span><span class="p">,</span> <span class="mf">1.10</span><span class="p">,</span> <span class="mf">1.20</span><span class="p">,</span> <span class="mf">1.45</span><span class="p">,</span> <span class="mf">2.80</span><span class="p">,</span> <span class="mf">2.40</span><span class="p">,</span> <span class="mf">.89</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="s1">&#39;float32&#39;</span><span class="p">),</span>
        <span class="s1">&#39;quantity&#39;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
        <span class="s1">&#39;date_of_purchase&#39;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;20221208&#39;</span><span class="p">),</span>
        <span class="s1">&#39;shop&#39;</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">Categorical</span><span class="p">([</span><span class="s1">&#39;Aldi&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">8</span><span class="p">),</span>
        <span class="s1">&#39;paid_cash&#39;</span><span class="p">:</span> <span class="kc">True</span>
    <span class="p">}</span>
<span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>item</th>
      <th>unit_price</th>
      <th>quantity</th>
      <th>date_of_purchase</th>
      <th>shop</th>
      <th>paid_cash</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>apples</td>
      <td>2.20</td>
      <td>2</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1</th>
      <td>bananas</td>
      <td>1.85</td>
      <td>1</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2</th>
      <td>bread</td>
      <td>1.10</td>
      <td>2</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
    <tr>
      <th>3</th>
      <td>yoghurt</td>
      <td>1.20</td>
      <td>4</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4</th>
      <td>pasta</td>
      <td>1.45</td>
      <td>2</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
    <tr>
      <th>5</th>
      <td>coffee</td>
      <td>2.80</td>
      <td>1</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
    <tr>
      <th>6</th>
      <td>butter</td>
      <td>2.40</td>
      <td>1</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
    <tr>
      <th>7</th>
      <td>carrots</td>
      <td>0.89</td>
      <td>1</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>As with NumPy arrays, the <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> object stores some basic information as attributes. Below, we get information about shape, number of dimensions, size (number of elements), and the data types for each column of <code class="docutils literal notranslate"><span class="pre">df</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Shape:                &#39;</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of dimensions: &#39;</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">ndim</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Number of elements:   &#39;</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">size</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Data types:</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">dtypes</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Shape:                 (8, 6)
Number of dimensions:  2
Number of elements:    48
Data types:

item                        object
unit_price                 float32
quantity                     int64
date_of_purchase    datetime64[ns]
shop                      category
paid_cash                     bool
dtype: object
</pre></div></div>
</div>
<p>We can also see how much memory (in bytes) is being used by each column.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">memory_usage</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Index               128
item                 64
unit_price           32
quantity             64
date_of_purchase     64
shop                124
paid_cash             8
dtype: int64
</pre></div></div>
</div>
<p>The actual values stored in a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> are accessible via the <code class="docutils literal notranslate"><span class="pre">.values</span></code> attribute. Inspection of these values shows that <code class="docutils literal notranslate"><span class="pre">pandas</span></code> is built right on top of NumPy.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The values of the data frame are: &quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;The type of the values is &quot;</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">values</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The values of the data frame are:
[[&#39;apples&#39; 2.200000047683716 2 Timestamp(&#39;2022-12-08 00:00:00&#39;) &#39;Aldi&#39;
  True]
 [&#39;bananas&#39; 1.850000023841858 1 Timestamp(&#39;2022-12-08 00:00:00&#39;) &#39;Aldi&#39;
  True]
 [&#39;bread&#39; 1.100000023841858 2 Timestamp(&#39;2022-12-08 00:00:00&#39;) &#39;Aldi&#39;
  True]
 [&#39;yoghurt&#39; 1.2000000476837158 4 Timestamp(&#39;2022-12-08 00:00:00&#39;) &#39;Aldi&#39;
  True]
 [&#39;pasta&#39; 1.4500000476837158 2 Timestamp(&#39;2022-12-08 00:00:00&#39;) &#39;Aldi&#39;
  True]
 [&#39;coffee&#39; 2.799999952316284 1 Timestamp(&#39;2022-12-08 00:00:00&#39;) &#39;Aldi&#39;
  True]
 [&#39;butter&#39; 2.4000000953674316 1 Timestamp(&#39;2022-12-08 00:00:00&#39;) &#39;Aldi&#39;
  True]
 [&#39;carrots&#39; 0.8899999856948853 1 Timestamp(&#39;2022-12-08 00:00:00&#39;) &#39;Aldi&#39;
  True]]
The type of the values is  &lt;class &#39;numpy.ndarray&#39;&gt;
</pre></div></div>
</div>
</section>
<section id="Viewing,-selecting-and-indexing">
<h2>Viewing, selecting and indexing<a class="headerlink" href="#Viewing,-selecting-and-indexing" title="Permalink to this heading">¶</a></h2>
<p>If you are new to <code class="docutils literal notranslate"><span class="pre">pandas</span></code>, it may sometimes feel like the data are hidden away and out of reach, especially in comparison to spreadsheet environments where data are generally always on the screen and can be selected and browsed by clicking and scrolling the mouse. Thankfully, <code class="docutils literal notranslate"><span class="pre">pandas</span></code> has some handy tools for viewing a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">DataFrame.head()</span></code> can be used to view the top of a frame, and <code class="docutils literal notranslate"><span class="pre">DataFrame.tail()</span></code> to view the bottom. The default number of rows to display is <code class="docutils literal notranslate"><span class="pre">5</span></code>, but we can change this by specifying a number.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show the first three rows of df</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>item</th>
      <th>unit_price</th>
      <th>quantity</th>
      <th>date_of_purchase</th>
      <th>shop</th>
      <th>paid_cash</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>apples</td>
      <td>2.20</td>
      <td>2</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
    <tr>
      <th>1</th>
      <td>bananas</td>
      <td>1.85</td>
      <td>1</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2</th>
      <td>bread</td>
      <td>1.10</td>
      <td>2</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Show the last three rows of df</span>
<span class="n">df</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>item</th>
      <th>unit_price</th>
      <th>quantity</th>
      <th>date_of_purchase</th>
      <th>shop</th>
      <th>paid_cash</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>5</th>
      <td>coffee</td>
      <td>2.80</td>
      <td>1</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
    <tr>
      <th>6</th>
      <td>butter</td>
      <td>2.40</td>
      <td>1</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
    <tr>
      <th>7</th>
      <td>carrots</td>
      <td>0.89</td>
      <td>1</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>The row and column indices themselves can also be accessed and operated upon (note that we didn’t specify a row index at the time of creation, so we got a default <code class="docutils literal notranslate"><span class="pre">RangeIndex</span></code>).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># View the row index of df</span>
<span class="n">df</span><span class="o">.</span><span class="n">index</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[10]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
RangeIndex(start=0, stop=8, step=1)
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># View the column index of df</span>
<span class="n">df</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[11]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Index([&#39;item&#39;, &#39;unit_price&#39;, &#39;quantity&#39;, &#39;date_of_purchase&#39;, &#39;shop&#39;,
       &#39;paid_cash&#39;],
      dtype=&#39;object&#39;)
</pre></div></div>
</div>
<p>Let’s talk about selecting columns. To select a single column of a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>, put its name in square brackets. This is a bit like clicking on the column header in a spreadsheet to highlight the entire column. The result of this operation is a <code class="docutils literal notranslate"><span class="pre">Series</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[12]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0     apples
1    bananas
2      bread
3    yoghurt
4      pasta
5     coffee
6     butter
7    carrots
Name: item, dtype: object
</pre></div></div>
</div>
<p>As long as the column name doesn’t contain whitespace or special characters, single columns may also be accessed in equivalent fashion via <code class="docutils literal notranslate"><span class="pre">.</span></code> notation. I often find this more convenient, as it’s easier to type.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">unit_price</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[13]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0    2.20
1    1.85
2    1.10
3    1.20
4    1.45
5    2.80
6    2.40
7    0.89
Name: unit_price, dtype: float32
</pre></div></div>
</div>
<p>Selecting multiple columns at the same time requires a list of column names, and returns a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> (this is like doing <code class="docutils literal notranslate"><span class="pre">Ctrl+click</span></code> or <code class="docutils literal notranslate"><span class="pre">Ctrl+drag</span></code> to select multiple columns in a spreadsheet).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[[</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="s1">&#39;quantity&#39;</span><span class="p">,</span> <span class="s1">&#39;unit_price&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[14]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>item</th>
      <th>quantity</th>
      <th>unit_price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>apples</td>
      <td>2</td>
      <td>2.20</td>
    </tr>
    <tr>
      <th>1</th>
      <td>bananas</td>
      <td>1</td>
      <td>1.85</td>
    </tr>
    <tr>
      <th>2</th>
      <td>bread</td>
      <td>2</td>
      <td>1.10</td>
    </tr>
    <tr>
      <th>3</th>
      <td>yoghurt</td>
      <td>4</td>
      <td>1.20</td>
    </tr>
    <tr>
      <th>4</th>
      <td>pasta</td>
      <td>2</td>
      <td>1.45</td>
    </tr>
    <tr>
      <th>5</th>
      <td>coffee</td>
      <td>1</td>
      <td>2.80</td>
    </tr>
    <tr>
      <th>6</th>
      <td>butter</td>
      <td>1</td>
      <td>2.40</td>
    </tr>
    <tr>
      <th>7</th>
      <td>carrots</td>
      <td>1</td>
      <td>0.89</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">[]</span></code> can be used to slice by row</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[15]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>item</th>
      <th>unit_price</th>
      <th>quantity</th>
      <th>date_of_purchase</th>
      <th>shop</th>
      <th>paid_cash</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2</th>
      <td>bread</td>
      <td>1.10</td>
      <td>2</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
    <tr>
      <th>3</th>
      <td>yoghurt</td>
      <td>1.20</td>
      <td>4</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4</th>
      <td>pasta</td>
      <td>1.45</td>
      <td>2</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">pandas</span></code> also supports <a class="reference external" href="https://pandas.pydata.org/docs/user_guide/indexing.html#indexing-label">label-based indexing</a>, which is extremely useful for selecting individual values or cross-sections of a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<p>Label-based indexing is performed using the <code class="docutils literal notranslate"><span class="pre">.loc[]</span></code> and <code class="docutils literal notranslate"><span class="pre">.at[]</span></code> access methods. Note these are square, and not round, brackets.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Select rows 4:7 and the specified columns</span>
<span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">4</span><span class="p">:</span><span class="mi">7</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="s1">&#39;unit_price&#39;</span><span class="p">,</span> <span class="s1">&#39;quantity&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[16]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>item</th>
      <th>unit_price</th>
      <th>quantity</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>4</th>
      <td>pasta</td>
      <td>1.45</td>
      <td>2</td>
    </tr>
    <tr>
      <th>5</th>
      <td>coffee</td>
      <td>2.80</td>
      <td>1</td>
    </tr>
    <tr>
      <th>6</th>
      <td>butter</td>
      <td>2.40</td>
      <td>1</td>
    </tr>
    <tr>
      <th>7</th>
      <td>carrots</td>
      <td>0.89</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Select the value in row=3, column=&#39;item&#39;</span>
<span class="n">df</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;item&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[17]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;yoghurt&#39;
</pre></div></div>
</div>
<p><a class="reference external" href="https://pandas.pydata.org/docs/user_guide/indexing.html#indexing-integer">Positional indexing</a> can be achieved with the <code class="docutils literal notranslate"><span class="pre">.iloc[]</span></code> and <code class="docutils literal notranslate"><span class="pre">.iat[]</span></code> access methods. The difference here is that we <strong>must</strong> provide integers (starting at <code class="docutils literal notranslate"><span class="pre">0</span></code>). The behavior is very similar to array slicing in Python and NumPy.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Select the 6th row</span>
<span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[18]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
item                             coffee
unit_price                          2.8
quantity                              1
date_of_purchase    2022-12-08 00:00:00
shop                               Aldi
paid_cash                          True
Name: 5, dtype: object
</pre></div></div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Select the value in the second row of the first column</span>
<span class="n">df</span><span class="o">.</span><span class="n">iat</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[19]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
&#39;bananas&#39;
</pre></div></div>
</div>
<p><a class="reference external" href="https://pandas.pydata.org/docs/user_guide/10min.html#boolean-indexing">Boolean indexing</a> is another common way to select a subset of data from a frame. Suppose we cared only about rows where the <code class="docutils literal notranslate"><span class="pre">unit_price</span></code> was over <code class="docutils literal notranslate"><span class="pre">£2.00</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;unit_price&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">2.</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[20]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>item</th>
      <th>unit_price</th>
      <th>quantity</th>
      <th>date_of_purchase</th>
      <th>shop</th>
      <th>paid_cash</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>apples</td>
      <td>2.2</td>
      <td>2</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
    <tr>
      <th>5</th>
      <td>coffee</td>
      <td>2.8</td>
      <td>1</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
    <tr>
      <th>6</th>
      <td>butter</td>
      <td>2.4</td>
      <td>1</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
<p>This works, because the expression inside the square brackets evaluates as a <code class="docutils literal notranslate"><span class="pre">Series</span></code> of <code class="docutils literal notranslate"><span class="pre">bool</span></code>, and the indexing operation ensures that we only get the rows where the expression comes up <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;unit_price&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mf">2.</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[21]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
0     True
1    False
2    False
3    False
4    False
5     True
6     True
7    False
Name: unit_price, dtype: bool
</pre></div></div>
</div>
<p>We can get quite fancy by chaining multiple expressions together. For example, if we only wanted rows where the <code class="docutils literal notranslate"><span class="pre">unit_price</span></code> is greater than <code class="docutils literal notranslate"><span class="pre">£1.00</span></code> and less than <code class="docutils literal notranslate"><span class="pre">£2.00</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;unit_price&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mf">1.</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;unit_price&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mf">2.</span><span class="p">))]</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[22]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>item</th>
      <th>unit_price</th>
      <th>quantity</th>
      <th>date_of_purchase</th>
      <th>shop</th>
      <th>paid_cash</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>bananas</td>
      <td>1.85</td>
      <td>1</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
    <tr>
      <th>2</th>
      <td>bread</td>
      <td>1.10</td>
      <td>2</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
    <tr>
      <th>3</th>
      <td>yoghurt</td>
      <td>1.20</td>
      <td>4</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
    <tr>
      <th>4</th>
      <td>pasta</td>
      <td>1.45</td>
      <td>2</td>
      <td>2022-12-08</td>
      <td>Aldi</td>
      <td>True</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="World-population-dataset">
<h2>World population dataset<a class="headerlink" href="#World-population-dataset" title="Permalink to this heading">¶</a></h2>
<p>The best way to learn <code class="docutils literal notranslate"><span class="pre">pandas</span></code> is to use it with real data, so let’s explore some more advanced features with an actual dataset.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">data</span></code> folder of the course materials, there’s a file called <code class="docutils literal notranslate"><span class="pre">world_population.csv</span></code> which I sourced from an excellent data science website called <a class="reference external" href="https://www.kaggle.com/">Kaggle</a>. The file contains historical population data for every country/territory in the world, along with various other parameters. Here’s what’s in the file:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Variable</p></th>
<th class="head"><p>Definition</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Rank</p></td>
<td><p>Rank by Population</p></td>
</tr>
<tr class="row-odd"><td><p>CCA3</p></td>
<td><p>3 Digit Country/Territories Code</p></td>
</tr>
<tr class="row-even"><td><p>Country</p></td>
<td><p>Name of the Country/Territories</p></td>
</tr>
<tr class="row-odd"><td><p>Capital</p></td>
<td><p>Name of the Capital</p></td>
</tr>
<tr class="row-even"><td><p>Continent</p></td>
<td><p>Name of the Continent</p></td>
</tr>
<tr class="row-odd"><td><p>2022 Population</p></td>
<td><p>Population of the Country/Territories in the year 2022</p></td>
</tr>
<tr class="row-even"><td><p>2020 Population</p></td>
<td><p>Population of the Country/Territories in the year 2020</p></td>
</tr>
<tr class="row-odd"><td><p>2015 Population</p></td>
<td><p>Population of the Country/Territories in the year 2015</p></td>
</tr>
<tr class="row-even"><td><p>2010 Population</p></td>
<td><p>Population of the Country/Territories in the year 2010</p></td>
</tr>
<tr class="row-odd"><td><p>2000 Population</p></td>
<td><p>Population of the Country/Territories in the year 2000</p></td>
</tr>
<tr class="row-even"><td><p>1990 Population</p></td>
<td><p>Population of the Country/Territories in the year 1990</p></td>
</tr>
<tr class="row-odd"><td><p>1980 Population</p></td>
<td><p>Population of the Country/Territories in the year 1980</p></td>
</tr>
<tr class="row-even"><td><p>1970 Population</p></td>
<td><p>Population of the Country/Territories in the year 1970</p></td>
</tr>
<tr class="row-odd"><td><p>Area (km²)</p></td>
<td><p>Area size of the Country/Territories in square kilometer</p></td>
</tr>
<tr class="row-even"><td><p>Density (per km²)</p></td>
<td><p>Population Density per square kilometer</p></td>
</tr>
<tr class="row-odd"><td><p>Growth Rate</p></td>
<td><p>Population Growth Rate by Country/Territories</p></td>
</tr>
<tr class="row-even"><td><p>World Population Percentage</p></td>
<td><p>The population percentage by each Country/Territories</p></td>
</tr>
</tbody>
</table>
<p>Let’s start by loading and inspecting the data.</p>
<p>Because its a <code class="docutils literal notranslate"><span class="pre">CSV</span></code> file, <code class="docutils literal notranslate"><span class="pre">pd.read_csv(...)</span></code> is right tool for the job.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../data/world_population.csv&#39;</span><span class="p">)</span>
<span class="n">df</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[23]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Rank</th>
      <th>CCA3</th>
      <th>Country</th>
      <th>Capital</th>
      <th>Continent</th>
      <th>2022 Population</th>
      <th>2020 Population</th>
      <th>2015 Population</th>
      <th>2010 Population</th>
      <th>2000 Population</th>
      <th>1990 Population</th>
      <th>1980 Population</th>
      <th>1970 Population</th>
      <th>Area (km²)</th>
      <th>Density (per km²)</th>
      <th>Growth Rate</th>
      <th>World Population Percentage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>36</td>
      <td>AFG</td>
      <td>Afghanistan</td>
      <td>Kabul</td>
      <td>Asia</td>
      <td>41128771</td>
      <td>38972230</td>
      <td>33753499</td>
      <td>28189672</td>
      <td>19542982</td>
      <td>10694796</td>
      <td>12486631</td>
      <td>10752971</td>
      <td>652230</td>
      <td>63.0587</td>
      <td>1.0257</td>
      <td>0.52</td>
    </tr>
    <tr>
      <th>1</th>
      <td>138</td>
      <td>ALB</td>
      <td>Albania</td>
      <td>Tirana</td>
      <td>Europe</td>
      <td>2842321</td>
      <td>2866849</td>
      <td>2882481</td>
      <td>2913399</td>
      <td>3182021</td>
      <td>3295066</td>
      <td>2941651</td>
      <td>2324731</td>
      <td>28748</td>
      <td>98.8702</td>
      <td>0.9957</td>
      <td>0.04</td>
    </tr>
    <tr>
      <th>2</th>
      <td>34</td>
      <td>DZA</td>
      <td>Algeria</td>
      <td>Algiers</td>
      <td>Africa</td>
      <td>44903225</td>
      <td>43451666</td>
      <td>39543154</td>
      <td>35856344</td>
      <td>30774621</td>
      <td>25518074</td>
      <td>18739378</td>
      <td>13795915</td>
      <td>2381741</td>
      <td>18.8531</td>
      <td>1.0164</td>
      <td>0.56</td>
    </tr>
    <tr>
      <th>3</th>
      <td>213</td>
      <td>ASM</td>
      <td>American Samoa</td>
      <td>Pago Pago</td>
      <td>Oceania</td>
      <td>44273</td>
      <td>46189</td>
      <td>51368</td>
      <td>54849</td>
      <td>58230</td>
      <td>47818</td>
      <td>32886</td>
      <td>27075</td>
      <td>199</td>
      <td>222.4774</td>
      <td>0.9831</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>4</th>
      <td>203</td>
      <td>AND</td>
      <td>Andorra</td>
      <td>Andorra la Vella</td>
      <td>Europe</td>
      <td>79824</td>
      <td>77700</td>
      <td>71746</td>
      <td>71519</td>
      <td>66097</td>
      <td>53569</td>
      <td>35611</td>
      <td>19860</td>
      <td>468</td>
      <td>170.5641</td>
      <td>1.0100</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>229</th>
      <td>226</td>
      <td>WLF</td>
      <td>Wallis and Futuna</td>
      <td>Mata-Utu</td>
      <td>Oceania</td>
      <td>11572</td>
      <td>11655</td>
      <td>12182</td>
      <td>13142</td>
      <td>14723</td>
      <td>13454</td>
      <td>11315</td>
      <td>9377</td>
      <td>142</td>
      <td>81.4930</td>
      <td>0.9953</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>230</th>
      <td>172</td>
      <td>ESH</td>
      <td>Western Sahara</td>
      <td>El Aaiún</td>
      <td>Africa</td>
      <td>575986</td>
      <td>556048</td>
      <td>491824</td>
      <td>413296</td>
      <td>270375</td>
      <td>178529</td>
      <td>116775</td>
      <td>76371</td>
      <td>266000</td>
      <td>2.1654</td>
      <td>1.0184</td>
      <td>0.01</td>
    </tr>
    <tr>
      <th>231</th>
      <td>46</td>
      <td>YEM</td>
      <td>Yemen</td>
      <td>Sanaa</td>
      <td>Asia</td>
      <td>33696614</td>
      <td>32284046</td>
      <td>28516545</td>
      <td>24743946</td>
      <td>18628700</td>
      <td>13375121</td>
      <td>9204938</td>
      <td>6843607</td>
      <td>527968</td>
      <td>63.8232</td>
      <td>1.0217</td>
      <td>0.42</td>
    </tr>
    <tr>
      <th>232</th>
      <td>63</td>
      <td>ZMB</td>
      <td>Zambia</td>
      <td>Lusaka</td>
      <td>Africa</td>
      <td>20017675</td>
      <td>18927715</td>
      <td>16248230</td>
      <td>13792086</td>
      <td>9891136</td>
      <td>7686401</td>
      <td>5720438</td>
      <td>4281671</td>
      <td>752612</td>
      <td>26.5976</td>
      <td>1.0280</td>
      <td>0.25</td>
    </tr>
    <tr>
      <th>233</th>
      <td>74</td>
      <td>ZWE</td>
      <td>Zimbabwe</td>
      <td>Harare</td>
      <td>Africa</td>
      <td>16320537</td>
      <td>15669666</td>
      <td>14154937</td>
      <td>12839771</td>
      <td>11834676</td>
      <td>10113893</td>
      <td>7049926</td>
      <td>5202918</td>
      <td>390757</td>
      <td>41.7665</td>
      <td>1.0204</td>
      <td>0.20</td>
    </tr>
  </tbody>
</table>
<p>234 rows × 17 columns</p>
</div></div>
</div>
<p>We now have a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> with <code class="docutils literal notranslate"><span class="pre">17</span></code> columns and <code class="docutils literal notranslate"><span class="pre">234</span></code> rows, which appear to be sorted by <code class="docutils literal notranslate"><span class="pre">Country</span></code> in ascending alphabetical order. All in all, these are clean and well organized data, but if we sorted the rows by <code class="docutils literal notranslate"><span class="pre">Rank</span></code>, we could get a quick and easy insight into the most and least populous countries. We can do this using <code class="docutils literal notranslate"><span class="pre">.sort_values(...)</span></code>.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sort the rows by Rank in descending order</span>
<span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Rank&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[24]:
</pre></div>
</div>
<div class="output_area rendered_html docutils container">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Rank</th>
      <th>CCA3</th>
      <th>Country</th>
      <th>Capital</th>
      <th>Continent</th>
      <th>2022 Population</th>
      <th>2020 Population</th>
      <th>2015 Population</th>
      <th>2010 Population</th>
      <th>2000 Population</th>
      <th>1990 Population</th>
      <th>1980 Population</th>
      <th>1970 Population</th>
      <th>Area (km²)</th>
      <th>Density (per km²)</th>
      <th>Growth Rate</th>
      <th>World Population Percentage</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>41</th>
      <td>1</td>
      <td>CHN</td>
      <td>China</td>
      <td>Beijing</td>
      <td>Asia</td>
      <td>1425887337</td>
      <td>1424929781</td>
      <td>1393715448</td>
      <td>1348191368</td>
      <td>1264099069</td>
      <td>1153704252</td>
      <td>982372466</td>
      <td>822534450</td>
      <td>9706961</td>
      <td>146.8933</td>
      <td>1.0000</td>
      <td>17.88</td>
    </tr>
    <tr>
      <th>92</th>
      <td>2</td>
      <td>IND</td>
      <td>India</td>
      <td>New Delhi</td>
      <td>Asia</td>
      <td>1417173173</td>
      <td>1396387127</td>
      <td>1322866505</td>
      <td>1240613620</td>
      <td>1059633675</td>
      <td>870452165</td>
      <td>696828385</td>
      <td>557501301</td>
      <td>3287590</td>
      <td>431.0675</td>
      <td>1.0068</td>
      <td>17.77</td>
    </tr>
    <tr>
      <th>221</th>
      <td>3</td>
      <td>USA</td>
      <td>United States</td>
      <td>Washington, D.C.</td>
      <td>North America</td>
      <td>338289857</td>
      <td>335942003</td>
      <td>324607776</td>
      <td>311182845</td>
      <td>282398554</td>
      <td>248083732</td>
      <td>223140018</td>
      <td>200328340</td>
      <td>9372610</td>
      <td>36.0935</td>
      <td>1.0038</td>
      <td>4.24</td>
    </tr>
    <tr>
      <th>93</th>
      <td>4</td>
      <td>IDN</td>
      <td>Indonesia</td>
      <td>Jakarta</td>
      <td>Asia</td>
      <td>275501339</td>
      <td>271857970</td>
      <td>259091970</td>
      <td>244016173</td>
      <td>214072421</td>
      <td>182159874</td>
      <td>148177096</td>
      <td>115228394</td>
      <td>1904569</td>
      <td>144.6529</td>
      <td>1.0064</td>
      <td>3.45</td>
    </tr>
    <tr>
      <th>156</th>
      <td>5</td>
      <td>PAK</td>
      <td>Pakistan</td>
      <td>Islamabad</td>
      <td>Asia</td>
      <td>235824862</td>
      <td>227196741</td>
      <td>210969298</td>
      <td>194454498</td>
      <td>154369924</td>
      <td>115414069</td>
      <td>80624057</td>
      <td>59290872</td>
      <td>881912</td>
      <td>267.4018</td>
      <td>1.0191</td>
      <td>2.96</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>137</th>
      <td>230</td>
      <td>MSR</td>
      <td>Montserrat</td>
      <td>Brades</td>
      <td>North America</td>
      <td>4390</td>
      <td>4500</td>
      <td>5059</td>
      <td>4938</td>
      <td>5138</td>
      <td>10805</td>
      <td>11452</td>
      <td>11402</td>
      <td>102</td>
      <td>43.0392</td>
      <td>0.9939</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>64</th>
      <td>231</td>
      <td>FLK</td>
      <td>Falkland Islands</td>
      <td>Stanley</td>
      <td>South America</td>
      <td>3780</td>
      <td>3747</td>
      <td>3408</td>
      <td>3187</td>
      <td>3080</td>
      <td>2332</td>
      <td>2240</td>
      <td>2274</td>
      <td>12173</td>
      <td>0.3105</td>
      <td>1.0043</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>150</th>
      <td>232</td>
      <td>NIU</td>
      <td>Niue</td>
      <td>Alofi</td>
      <td>Oceania</td>
      <td>1934</td>
      <td>1942</td>
      <td>1847</td>
      <td>1812</td>
      <td>2074</td>
      <td>2533</td>
      <td>3637</td>
      <td>5185</td>
      <td>260</td>
      <td>7.4385</td>
      <td>0.9985</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>209</th>
      <td>233</td>
      <td>TKL</td>
      <td>Tokelau</td>
      <td>Nukunonu</td>
      <td>Oceania</td>
      <td>1871</td>
      <td>1827</td>
      <td>1454</td>
      <td>1367</td>
      <td>1666</td>
      <td>1669</td>
      <td>1647</td>
      <td>1714</td>
      <td>12</td>
      <td>155.9167</td>
      <td>1.0119</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>226</th>
      <td>234</td>
      <td>VAT</td>
      <td>Vatican City</td>
      <td>Vatican City</td>
      <td>Europe</td>
      <td>510</td>
      <td>520</td>
      <td>564</td>
      <td>596</td>
      <td>651</td>
      <td>700</td>
      <td>733</td>
      <td>752</td>
      <td>1</td>
      <td>510.0000</td>
      <td>0.9980</td>
      <td>0.00</td>
    </tr>
  </tbody>
</table>
<p>234 rows × 17 columns</p>
</div></div>
</div>
<p>This is great, but everyone knows that China is the most populated country in the world. Surely there is a more nuanced story to be told. Let’s start by calculating the most recent estimate of the global population by summing all of the values in the <code class="docutils literal notranslate"><span class="pre">2022</span> <span class="pre">Population</span></code> column.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The global population in 2022 is: &#39;</span><span class="p">)</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;2022 Population&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
The global population in 2022 is:
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[25]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
7973413042
</pre></div></div>
</div>
<p>That is believable. But now I’m curious how that is distributed by <code class="docutils literal notranslate"><span class="pre">Continent</span></code>.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">.groupby</span></code> operation is perfect for this job.</p>
<blockquote>
<div><p><cite>Read more about `</cite>.groupby()`` &lt;<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.groupby.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.groupby.html</a>&gt;`__</p>
</div></blockquote>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Group by Continent and sum the values</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Continent&#39;</span><span class="p">)[</span><span class="s1">&#39;2022 Population&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[26]:
</pre></div>
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Continent
Africa           1426730932
Asia             4721383274
Europe            743147538
North America     600296136
Oceania            45038554
South America     436816608
Name: 2022 Population, dtype: int64
</pre></div></div>
</div>
<p>Unsurprisingly, Asia is the most highly populated continent. A bar chart may help us to appreciate this more fully. We can easily make a bar chart using the <code class="docutils literal notranslate"><span class="pre">.plot()</span></code> method for <code class="docutils literal notranslate"><span class="pre">Series</span></code> and <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>s.</p>
<blockquote>
<div><p><cite>Read more about `</cite>.plot()`` &lt;<a class="reference external" href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.html">https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.plot.html</a>&gt;`__</p>
</div></blockquote>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[27]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Repeat the above operation, but this time chain a plotting method to the end</span>
<span class="p">(</span>
 <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Continent&#39;</span><span class="p">)[</span><span class="s1">&#39;2022 Population&#39;</span><span class="p">]</span>
 <span class="o">.</span><span class="n">sum</span><span class="p">()</span>
 <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Population&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_05_pandas_51_0.png" src="../_images/notebooks_05_pandas_51_0.png" />
</div>
</div>
<p>So Asia is the most populated continent, but surely that’s just because its the biggest. How does the population relate to the total size of the continent? The <code class="docutils literal notranslate"><span class="pre">Density</span> <span class="pre">(per</span> <span class="pre">km²)</span></code> column looks like it was calculated by dividing the population of a country by its total area, so repeating the operation with this variable will help to develop the story.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[28]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># As above, but with the &#39;Density (per km²)&#39; column instead</span>
<span class="p">(</span>
 <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;Continent&#39;</span><span class="p">)[</span><span class="s1">&#39;Density (per km²)&#39;</span><span class="p">]</span>
 <span class="o">.</span><span class="n">sum</span><span class="p">()</span>
 <span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">rot</span><span class="o">=</span><span class="mi">45</span><span class="p">,</span> <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;Population density (per km²)&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_05_pandas_53_0.png" src="../_images/notebooks_05_pandas_53_0.png" />
</div>
</div>
<p>This paints a different picture. Most striking is the difference for Europe. Though it is the third most populated continent, Europe comes second for population density, and by a long way in comparison to the others. This is especially true in comparison with South America, whose population is very sparse indeed.</p>
</section>
<section id="The-complete-picture---population-growth">
<h2>The complete picture - population growth<a class="headerlink" href="#The-complete-picture---population-growth" title="Permalink to this heading">¶</a></h2>
<p>To tell the overall story of these population data, I came up with my own two-figure solution, which I feel does a pretty good job. I sort the data by <code class="docutils literal notranslate"><span class="pre">Rank</span></code>, calculate a column-wise differential on the <code class="docutils literal notranslate"><span class="pre">&lt;date&gt;</span> <span class="pre">Population</span></code> columns, and then plot the result for each country in a stacked horizontal bar chart, with bars to the left show population decline, and bars to right show population growth for that period. To avoid ambiguity, I put the total population values to the side of each bar. On
the right, these values indicate the population for that country in 2022, and on the left, they indicate the total population decline since 1970.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[29]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the columns with the population data</span>
<span class="n">pop_cols</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;Population&#39;</span><span class="p">)]</span>

<span class="c1"># Sort and select data</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span>
 <span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Country&#39;</span><span class="p">)</span>  <span class="c1"># Set &#39;Country&#39; as the index</span>
 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Rank&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="n">pop_cols</span><span class="p">]</span>  <span class="c1"># Sort by &#39;Rank&#39; and keep only the columns with population data</span>
 <span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">117</span><span class="p">]</span>  <span class="c1"># Choose 117 MOST populated countries with location-based indexing</span>
 <span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="k">lambda</span> <span class="n">df_</span><span class="p">:</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">df_</span><span class="o">.</span><span class="n">columns</span><span class="p">)]</span>  <span class="c1"># Reverse the order of the columns in a fancy way</span>
<span class="p">)</span>

<span class="c1"># Pull out the base population at 1970</span>
<span class="n">base_pop_1970</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;1970 Population&#39;</span><span class="p">]</span>

<span class="c1"># Calculate a column-wise differential. This means the data will</span>
<span class="c1"># now reflect change from the previous timepoint, rather than the</span>
<span class="c1"># total population at that time.</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Put the base population back in</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;1970 Population&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">base_pop_1970</span>

<span class="c1"># Make a figure and axis that&#39;s big enough to show the data</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">24</span><span class="p">))</span>

<span class="c1"># Plot a horizontal bar chart with pandas plotting method.</span>
<span class="c1"># Note the reversal of the data with [::-1], which is done</span>
<span class="c1"># to make sure the longest bars are at the top</span>
<span class="n">data</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;barh&#39;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">lines</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">117</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">data</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>

<span class="c1"># Add the numbers as text</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">country</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()):</span>
    <span class="n">pop</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="n">text_pos</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">row</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">text_pos</span><span class="o">+</span><span class="mf">1e7</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">{:,}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pop</span><span class="p">),</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
    <span class="n">text_pos_neg</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">row</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">text_pos_neg</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">text_pos_neg</span><span class="o">+</span><span class="mf">1e7</span><span class="p">),</span> <span class="n">i</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">text_pos_neg</span><span class="si">:</span><span class="s1">,</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>

<span class="c1"># Add a vertical black line at zero as a visual aid</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">.5</span><span class="p">)</span>

<span class="c1"># Format the x axis</span>
<span class="k">def</span> <span class="nf">billions_formatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">pos</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span> <span class="o">/</span> <span class="mi">1000_000_000</span><span class="si">}</span><span class="s1">&#39;</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">FuncFormatter</span><span class="p">(</span><span class="n">billions_formatter</span><span class="p">))</span>

<span class="c1"># Tweak axis</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Population change in the 117 most populated countries/territories (1970-2022)&#39;</span><span class="p">,</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Population in billions&#39;</span><span class="p">,</span>
    <span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">.25e9</span><span class="p">,</span> <span class="mf">1.75e9</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1"># Put legend in lower right of figure</span>
<span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
<span class="n">handles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;1970 Population&#39;</span><span class="p">,</span>
    <span class="s1">&#39;1970 - 1980&#39;</span><span class="p">,</span>
    <span class="s1">&#39;1980 - 1990&#39;</span><span class="p">,</span>
    <span class="s1">&#39;1990 - 2000&#39;</span><span class="p">,</span>
    <span class="s1">&#39;2000 - 2010&#39;</span><span class="p">,</span>
    <span class="s1">&#39;2010 - 2015&#39;</span><span class="p">,</span>
    <span class="s1">&#39;2015 - 2020&#39;</span><span class="p">,</span>
    <span class="s1">&#39;2020 - 2022&#39;</span><span class="p">,</span>
    <span class="s1">&#39;2022 Population&#39;</span>
<span class="p">]</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower right&#39;</span><span class="p">)</span>

<span class="c1"># Save the figure with a tight bounding box and high resolution (300 dots-per-inch)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;../images/most_populated_countries_2022.png&#39;</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_05_pandas_55_0.png" src="../_images/notebooks_05_pandas_55_0.png" />
</div>
</div>
<p>Rinse and repeat for the other half of the data. By using a second figure for the less-populated half of the dataset, we reset the scale on the x-axis and dramatically improve the explanatory power of the visualisations.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[30]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the columns with the population data</span>
<span class="n">pop_cols</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;Population&#39;</span><span class="p">)]</span>

<span class="c1"># Sort and select data</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span>
 <span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Country&#39;</span><span class="p">)</span>  <span class="c1"># Set &#39;Country&#39; as the index</span>
 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Rank&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)[</span><span class="n">pop_cols</span><span class="p">]</span>  <span class="c1"># Sort by &#39;Rank&#39; and keep only the columns with population data</span>
 <span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">117</span><span class="p">:]</span>  <span class="c1"># Choose the 117 LEAST populated countries with location-based indexing</span>
 <span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="k">lambda</span> <span class="n">df_</span><span class="p">:</span> <span class="nb">reversed</span><span class="p">(</span><span class="n">df_</span><span class="o">.</span><span class="n">columns</span><span class="p">)]</span>  <span class="c1"># Reverse the order of the columns in a fancy way</span>
<span class="p">)</span>

<span class="c1"># Pull out the base population at 1970</span>
<span class="n">base_pop_1970</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;1970 Population&#39;</span><span class="p">]</span>

<span class="c1"># Calculate a column-wise differential. This means the data will</span>
<span class="c1"># now reflect change from the previous timepoint, rather than the</span>
<span class="c1"># total population at that time.</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Put the base population back in</span>
<span class="n">data</span><span class="p">[</span><span class="s1">&#39;1970 Population&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">base_pop_1970</span>

<span class="c1"># Make a figure and axis that&#39;s big enough to show the data</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">24</span><span class="p">))</span>

<span class="c1"># Plot a horizontal bar chart with pandas plotting method.</span>
<span class="c1"># Note the reversal of the data with [::-1], which is done</span>
<span class="c1"># to make sure the longest bars are at the top</span>
<span class="n">data</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;barh&#39;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
<span class="n">lines</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">hlines</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">117</span><span class="p">),</span> <span class="mi">0</span><span class="p">,</span> <span class="n">data</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">1.5</span><span class="p">)</span>

<span class="c1"># Add the numbers as text</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">country</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()):</span>
    <span class="n">pop</span> <span class="o">=</span> <span class="n">row</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="n">text_pos</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">row</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">text_pos</span><span class="o">+</span><span class="mf">1e5</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">{:,}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pop</span><span class="p">),</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
    <span class="n">text_pos_neg</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="n">row</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
    <span class="k">if</span> <span class="n">text_pos_neg</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="o">-</span><span class="p">(</span><span class="n">text_pos_neg</span><span class="o">+</span><span class="mf">1e5</span><span class="p">),</span> <span class="n">i</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">{:,}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">text_pos_neg</span><span class="p">),</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">ha</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>

<span class="c1"># Add a vertical line at zero as a visual aid</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">.5</span><span class="p">)</span>

<span class="c1"># Format the x axis</span>
<span class="k">def</span> <span class="nf">millions_formatter</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">pos</span><span class="p">):</span>
    <span class="k">return</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">x</span> <span class="o">/</span> <span class="mi">1_000_000</span><span class="si">}</span><span class="s1">&#39;</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">plt</span><span class="o">.</span><span class="n">FuncFormatter</span><span class="p">(</span><span class="n">millions_formatter</span><span class="p">))</span>

<span class="c1"># Tweak axis</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Population change in the 117 least populated countries/territories (1970-2022)&#39;</span><span class="p">,</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Population in millions&#39;</span><span class="p">,</span>
    <span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">3e6</span><span class="p">,</span> <span class="mf">8e6</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Put legend in lower right of figure</span>
<span class="n">handles</span><span class="p">,</span> <span class="n">labels</span> <span class="o">=</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
<span class="n">handles</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lines</span><span class="p">)</span>
<span class="n">labels</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;1970 Population&#39;</span><span class="p">,</span>
    <span class="s1">&#39;1970 - 1980&#39;</span><span class="p">,</span>
    <span class="s1">&#39;1980 - 1990&#39;</span><span class="p">,</span>
    <span class="s1">&#39;1990 - 2000&#39;</span><span class="p">,</span>
    <span class="s1">&#39;2000 - 2010&#39;</span><span class="p">,</span>
    <span class="s1">&#39;2010 - 2015&#39;</span><span class="p">,</span>
    <span class="s1">&#39;2015 - 2020&#39;</span><span class="p">,</span>
    <span class="s1">&#39;2020 - 2022&#39;</span><span class="p">,</span>
    <span class="s1">&#39;2022 Population&#39;</span>
<span class="p">]</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower right&#39;</span><span class="p">)</span>


<span class="c1">#fig.suptitle(&#39;Population change in the 117 least populated countries/territories (1970-2022)&#39;)</span>

<span class="c1">#ax.text(-5.5e5, 117, &#39;Decline | Growth&#39;)</span>

<span class="c1"># Save the figure with a tight bounding box and high resolution (300 dots-per-inch)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;../images/least_populated_countries_2022.png&#39;</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_05_pandas_57_0.png" src="../_images/notebooks_05_pandas_57_0.png" />
</div>
</div>
</section>
<section id="The-big-picture---population-density">
<h2>The big picture - population density<a class="headerlink" href="#The-big-picture---population-density" title="Permalink to this heading">¶</a></h2>
<p>After plotting the above, I realised I could do the same using only the <code class="docutils literal notranslate"><span class="pre">Density</span> <span class="pre">(per</span> <span class="pre">km²)</span></code> column. This was a little bit easier as it didn’t require stacking the bars.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[31]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sort and select data</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span>
 <span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Country&#39;</span><span class="p">)</span>  <span class="c1"># Set &#39;Country&#39; as the index</span>
 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Density (per km²)&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
 <span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">117</span><span class="p">:]</span>  <span class="c1"># Choose the 117 MOST densely populated countries with location-based indexing</span>
<span class="p">)</span>

<span class="c1"># Make a figure and axis that&#39;s big enough to show the data</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">24</span><span class="p">))</span>

<span class="c1"># Plot a horizontal bar chart with pandas plotting method.</span>
<span class="n">data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;barh&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Density (per km²)&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Add the numbers in text</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">country</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()):</span>
    <span class="n">pop</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;Density (per km²)&#39;</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">pop</span><span class="o">+</span><span class="mi">100</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">{:,}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">pop</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>

<span class="c1"># Add a vertical line at zero as a visual aid</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">.5</span><span class="p">)</span>

<span class="c1"># Tweak axis</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Population density in the 117 most populated countries/territories&#39;</span><span class="p">,</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Population (per km²)&#39;</span><span class="p">,</span>
    <span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">25000</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Save the figure with a tight bounding box and high resolution (300 dots-per-inch)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;../images/most_dense_countries_2022.png&#39;</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_05_pandas_59_0.png" src="../_images/notebooks_05_pandas_59_0.png" />
</div>
</div>
<p>What’s it like to be one of 23,172 people in a square kilometer of land? Go to Macau and you’ll find out. Also, I didn’t realise Gibralter was so dense.</p>
<p>Now for the other half…</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[32]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Sort and select data</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span>
 <span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Country&#39;</span><span class="p">)</span>  <span class="c1"># Set &#39;Country&#39; as the index</span>
 <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;Density (per km²)&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
 <span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">117</span><span class="p">]</span>  <span class="c1"># Choose the 117 LEAST densely populated countries with location-based indexing</span>
<span class="p">)</span>

<span class="c1"># Make a figure and axis that&#39;s big enough to show the data</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">24</span><span class="p">))</span>

<span class="c1"># Plot a horizontal bar chart with pandas plotting method.</span>
<span class="n">data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;barh&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s1">&#39;Density (per km²)&#39;</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># Add the numbers in text</span>
<span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">country</span><span class="p">,</span> <span class="n">row</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()):</span>
    <span class="n">pop</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;Density (per km²)&#39;</span><span class="p">]</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">pop</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">{:,}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">round</span><span class="p">(</span><span class="n">pop</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">va</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>

<span class="c1"># Add a vertical line at zero as a visual aid</span>
<span class="n">ax</span><span class="o">.</span><span class="n">axvline</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mf">.5</span><span class="p">)</span>

<span class="c1"># Tweak axis</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span>
    <span class="n">ylabel</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Population density in the 117 least populated countries/territories&#39;</span><span class="p">,</span>
    <span class="n">xlabel</span><span class="o">=</span><span class="s1">&#39;Population (per km²)&#39;</span><span class="p">,</span>
    <span class="n">xlim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Save the figure with a tight bounding box and high resolution (300 dots-per-inch)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;../images/least_dense_countries_2022.png&#39;</span><span class="p">,</span> <span class="n">bbox_inches</span><span class="o">=</span><span class="s1">&#39;tight&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<img alt="../_images/notebooks_05_pandas_61_0.png" src="../_images/notebooks_05_pandas_61_0.png" />
</div>
</div>
<p>Iceland… A beautiful country, where a kilometer of land is shared by only 3.62 people.</p>
<p>That’s it for now. These examples are complicated, but if you study them carefully, change bits, and come up with your own variations, you will learn a lot about Python and <code class="docutils literal notranslate"><span class="pre">pandas</span></code> in the process! If you are feeling adventures, why not try and replicate these plots for the <code class="docutils literal notranslate"><span class="pre">Area</span> <span class="pre">(km²)</span></code> column? In this situation, countries like Russia and Canada would be right at the top, and at the bottom would be The Vatican City and small island nations like the Falkland and Faroe Islands.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">CLLPython</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="00_introduction_to_the_python_programming_language.html">Week 0 - Introduction to the Python programming language</a></li>
<li class="toctree-l1"><a class="reference internal" href="01_syntax_types_builtins.html">Week 1 - Syntax, data types, and built-in functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="02_logic_operators_control_statements.html">Week 2 - Operators, control flow statements, defining functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="03_imports_standard_library_PyPI.html">Week 3 - Imports, the standard library, and third-party libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="04_numpy_matplotlib.html">Week 4 - NumPy and matplotlib</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Week 5 - pandas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Importing-pandas">Importing <code class="docutils literal notranslate"><span class="pre">pandas</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#Series"><code class="docutils literal notranslate"><span class="pre">Series</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#DataFrame"><code class="docutils literal notranslate"><span class="pre">DataFrame</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#Viewing,-selecting-and-indexing">Viewing, selecting and indexing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#World-population-dataset">World population dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="#The-complete-picture---population-growth">The complete picture - population growth</a></li>
<li class="toctree-l2"><a class="reference internal" href="#The-big-picture---population-density">The big picture - population density</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="06_more_pandas.html">Week 6 - More about <code class="docutils literal notranslate"><span class="pre">pandas</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="07_other_libraries.html">Week 8 - Other libraries and cool things</a></li>
<li class="toctree-l1"><a class="reference internal" href="07_other_libraries.html#Geographical-plots-with-cartopy">Geographical plots with <code class="docutils literal notranslate"><span class="pre">cartopy</span></code></a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="04_numpy_matplotlib.html" title="previous chapter">Week 4 - NumPy and matplotlib</a></li>
      <li>Next: <a href="06_more_pandas.html" title="next chapter">Week 6 - More about <code class="docutils literal notranslate"><span class="pre">pandas</span></code></a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Joel T. Martin.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/notebooks/05_pandas.ipynb.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>